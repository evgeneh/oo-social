{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","media/def_usrpic.jpg","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","components/login-register/LoginRedirectHOC.jsx","components/users/Users.module.css","components/instruments/Instruments.module.css","components/instruments/Pagination.jsx","components/instruments/buttons/FollowButton.jsx","components/users/Users.jsx","components/users/FriendsContainer.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","module","exports","_typeof2","obj","Symbol","iterator","constructor","_typeof","_possibleConstructorReturn","self","call","assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","mapStateToProps","state","isAuth","auth","withLoginRedirect","Component","withLogin","this","to","React","connect","withRouter","pages","pagesCount","push","startValue","page","Number","toString","navigationPages","className","s","usersPage","map","Link","pageName","linkName","children","FollowButton","isDisabled","buttonClick","isFollow","follow__button","onClick","disabled","UserBlock","isOwner","isToggling","some","id","user","userFrame","userFrame__picture","src","photos","small","userDefPic","alt","userFrame__about","name","userFrame__status","status","followed","endFollowing","beginFollowing","Users","Math","ceil","totalCount","pageSize","match","params","pageNo","usersList","users","userItem","myId","ElementNameHeader","text","compose","isFetching","getFriendsByPage","setCurrentPage","useEffect","usersUpdate"],"mappings":"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","file":"static/js/4.d16aed16.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","module.exports = __webpack_public_path__ + \"static/media/def_usrpic.465eaf9e.jpg\";","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\n\nimport {Redirect} from \"react-router-dom\";\n\n\nconst mapStateToProps = (state) => {\n    return {isAuth: state.auth.isAuth}\n}\n\nconst withLoginRedirect = (Component) => {\n    class withLogin extends React.Component {\n        render() {\n            if (this.props.isAuth) return <Component {...this.props}/>\n            else return <Redirect to={'login'} />\n        }\n    }\n    return connect(mapStateToProps, {})(withLogin)\n}\n\nexport default withLoginRedirect\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPage\":\"Users_userPage__WLj1D\",\"userFrame\":\"Users_userFrame__aO5xN\",\"usersPage\":\"Users_usersPage__3eGJc\",\"userFrame__picture\":\"Users_userFrame__picture__2AoCn\",\"userFrame__about\":\"Users_userFrame__about__8SRkm\",\"userFrame__status\":\"Users_userFrame__status__1LR5E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Instruments_usersPage__2g2i0\"};","import React from \"react\";\n\nimport s from \"./Instruments.module.css\";\n\nimport {withRouter} from \"react-router-dom\";\n\nimport Link from \"./link/Link\";\n\nconst Pages = (props) => {\n    let pages = [];\n\n    if (props.pagesCount > 5) {\n        pages.push('1');\n        let startValue = 2;\n        if (props.page > 3) {\n            pages.push('…')\n            startValue = Number(props.page) - 1;\n        }\n\n        for (let i = startValue; (i <= startValue + 2) && (i < Number(props.pagesCount)); i++)\n            pages.push(i.toString());\n        if (props.page < props.pagesCount - 2)\n            pages.push('…')\n        pages.push(props.pagesCount.toString())\n\n    } else {\n        for (let i = 1; i <= props.pagesCount; i++)\n            pages.push(i.toString());\n    }\n    const navigationPages = <div className={s.usersPage}>\n        &#9642;\n        {pages.map((p) => {\n            if (p === '…') return <span key={'…'}> {p} &#9642;</span>\n            if (p == props.page) return <span key={p}> <b>{p}</b> &#9642;</span>\n            return <span key={p}> <Link to={ \"/\" + props.pageName + \"/\" + p} linkName={p}/> &#9642;</span>\n        })}\n    </div>\n\n    return (<> {navigationPages}\n               {props.children}\n               {navigationPages}\n    </>)\n\n}\n\nexport default withRouter(Pages)","import s from './Buttons.module.css';\nimport React from \"react\";\n\nconst FollowButton = ({isDisabled, buttonClick, isFollow}) => {\n    if (isFollow ) {\n        return <button className={s.follow__button} onClick={buttonClick} disabled={isDisabled}>Stop following</button>;\n    } else {\n        return <button className={s.follow__button} onClick={buttonClick} disabled={isDisabled}>Follow user</button>;\n    }\n}\nexport default FollowButton;","import React from 'react';\nimport s from  './Users.module.css'\n\nimport {NavLink, Redirect} from \"react-router-dom\";\n\nimport userDefPic from '../../media/def_usrpic.jpg'\nimport UsersPages from '../instruments/Pagination'\nimport FollowButton from \"../instruments/buttons/FollowButton\";\nimport ElementNameHeader from \"../profile/element-name-header/ElementNameHeader\";\n\n\nconst UserBlock = (props) => {\n\n    const handleClickFollow =() => {\n        //если я незарегистрированный пользователь то  обработчик ничего не делает\n        //+ добавить всплывашку залогиниться\n        if (! props.isAuth) return\n        if (props.user.followed)\n            props.endFollowing(props.user.id)\n        else\n            props.beginFollowing(props.user.id)\n    }\n\n    const isDisabled = props.isOwner || props.isToggling.some( (id) => {return (id === props.user.id) } )\n\n    return (\n        <div className={s.userFrame}>\n            <div className={s.userFrame__picture}>\n                {}\n                <img src={props.user.photos.small || userDefPic}   alt={'id=' + props.user.id +' userpic'}/>\n            </div>\n            <div className={s.userFrame__about}>\n                <NavLink to={'/id' + props.user.id}><h2>{props.user.name}</h2></NavLink>\n                <div className={s.userFrame__status}>{props.user.status}</div>\n                <FollowButton isFollow={props.user.followed} buttonClick={handleClickFollow} isDisabled={isDisabled}/>\n            </div>\n        </div>\n    )\n}\n\nconst Users = (props) => {\n    let pagesCount = Math.ceil(props.totalCount / props.pageSize)\n    if ((props.match.params.pageNo > pagesCount) || (props.match.params.pageNo < 1))\n        return <Redirect to='/users/1'/>\n\n    const usersList = props.users.map((userItem) => {\n        return <UserBlock user={userItem} beginFollowing={props.beginFollowing} endFollowing={props.endFollowing} isOwner={userItem.id == props.myId} isAuth={!!props.myId}\n                          isToggling={props.isToggling} key={userItem.id}/>\n    })\n\n    return (\n        <ElementNameHeader text={`User count: ${props.totalCount}`}>\n            <UsersPages pagesCount={pagesCount} page={(props.match.params.pageNo || 1)} pageName={props.pageName} >\n                {usersList}\n            </UsersPages>\n        </ElementNameHeader>\n    )\n}\n\nexport default Users;","import React, {useEffect} from 'react';\nimport {connect} from \"react-redux\";\n\nimport {compose} from \"redux\";\nimport {withRouter} from \"react-router-dom\";\n\nimport Users from \"./Users\";\n\nimport {beginFollowing, endFollowing, getFriendsByPage, setCurrentPage} from \"../../redux/reducers/users-reducer\";\nimport Preloader from \"../instruments/Preloader\";\nimport withLoginRedirect from \"../login-register/LoginRedirectHOC\";\n\n\nconst UsersAPI = (props) => {\n\n    useEffect(() => usersUpdate(), [props.match.params.pageNo, props.myId])\n\n    const usersUpdate = () => {\n        {\n            props.getFriendsByPage(props.match.params.pageNo)\n        }\n    }\n\n    return  <>\n        {(props.isFetching) ? <Preloader /> : <Users pageName={\"friends\"} {...props}  />\n    }</>\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        totalCount: state.users.totalCount,\n        users: state.users.users,\n        isFetching: state.users.isFetching,\n        pageSize: state.users.pageSize,\n        isToggling: state.users.isToggling,\n        myId: state.auth.myId\n    }\n}\n\nexport default compose (withLoginRedirect, connect(mapStateToProps, {getFriendsByPage, setCurrentPage, beginFollowing, endFollowing}), withRouter) (UsersAPI)"],"sourceRoot":""}