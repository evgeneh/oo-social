(window["webpackJsonpold-ontach"]=window["webpackJsonpold-ontach"]||[]).push([[0],{100:function(e,t,n){"use strict";var a=n(5),r=n.n(a),o=n(10),i=n(47),c=n(22),l=n(9);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var s=function(e,t,n,a){return e.map(function(e){return e[t]==n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},a):e})};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"g",function(){return v}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return y}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return N}),n.d(t,"d",function(){return B}),n.d(t,"c",function(){return x});var d={users:[{id:0,name:"home",status:"i'm fattest",followed:!1,photos:{small:null,large:null}},{id:1,name:"street",status:"i'm smallest",followed:!0,photos:{small:null,large:null}},{id:2,name:"aubo rdadje",status:"i'm smallest",followed:!0,photos:{small:null,large:null}},{id:3,name:"Ofre nmd",status:"i'm smallest",followed:!0,photos:{small:null,large:null}}],totalCount:600,error:null,currentPage:1,pageSize:10,isFetching:!1,isToggling:[],friends:{profiles:[],totalCount:0}},p="social-network/users-search/TOGGLE_FETCHING",g="social-network/users-search/SET_USERS",_="social-network/users-search/SET_USERS_PAGE",h="social-network/users-search/SET_TOGGLE_FOLLOWING",b="social-network/users-search/CHANGE_FOLLOWING_STATUS",E="social-network/users-search/SET_FRIENDS",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return f({},e,{isFetching:t.isFetching});case g:return f({},e,{users:Object(i.a)(t.users),totalCount:t.count});case _:return f({},e,{currentPage:t.page});case h:return t.isToggling?f({},e,{isToggling:[t.id].concat(Object(i.a)(e.isToggling))}):f({},e,{isToggling:e.isToggling.filter(function(e){return e!==t.id})});case b:return f({},e,{users:s(e.users,"id",t.id,{followed:t.isFollow})});case E:return f({},e,{friends:{profiles:Object(i.a)(t.friends),totalCount:t.totalCount}});default:return e}},A=function(e){return{type:p,isFetching:e}},O=function(e,t){return{type:g,users:e,count:t}},w=function(e){return{type:_,page:e}},y=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(A(!0)),t.next=3,l.d.getByPage(e);case 3:(a=t.sent).data.items&&(n(O(a.data.items,a.data.totalCount)),n(A(!1)));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return{type:h,isToggling:e,id:t}},P=function(e,t){return{type:b,id:e,isFollow:t}},k=function(){var e=Object(o.a)(r.a.mark(function e(t,n,a,o){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(j(!0,t)),e.next=3,n(t);case 3:0===e.sent.data.resultCode&&(o(P(t,a)),o(j(!1,t)));case 5:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),C=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:k(e,l.d.follow.bind(l.d),!0,n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:k(e,l.d.unfollow.bind(l.d),!1,n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(A(!0)),t.next=3,l.d.getFriends(e);case 3:0===(a=t.sent).data.resultCode&&(n(O(a.data.items,a.data.totalCount)),n(A(!1)));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(o.a)(r.a.mark(function n(a){var o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.d.getFriendsById(e,t);case 2:0===(o=n.sent).data.resultCode&&a((r=o.data.items,i=o.data.totalCount,{type:E,friends:r,totalCount:i}));case 4:case"end":return n.stop()}var r,i},n)}));return function(e){return n.apply(this,arguments)}}()}},132:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var a=n(70),r=function(e){return e.profile.user},o=function(e){return e.profile.user.fullName},i=Object(a.a)(r,function(e){if(!e.userId)return null;var t=1,n=1;return e.aboutMe&&t++,n++,e.photos.large&&t++,n++,Object.keys(e.contacts).map(function(a){e.contacts[a]&&t++,n++}),console.log(t+" "+n),Math.trunc(100*t/n)})},133:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=n(94);t.a=Object(c.a)({form:"upload_image"})(function(e){return console.log(e.error),r.a.createElement(r.a.Fragment,null,e.error,r.a.createElement("label",{htmlFor:"file",className:i.a.fileUpload},r.a.createElement("input",{type:"file",name:"file",id:"file",onChange:e.onUpload,multiple:!!e.multiple}),e.children))})},139:function(e,t){e.exports="data:image/gif;base64,R0lGODlh4AGgAPMAANra2uPj49LS0szMzMDAwN7e3ubm5u7u7tzc3Le3t6qqqrGxsQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA4AGgAAAE//DISau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyyWw6n9CodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo0dKBrIMCAhg4CM3AwQEIAhgUhuAAQAkGCjQEpsBBBRI1rRWgOaEkDt5ljxgQGfQaiQD+DxaLeRQplCjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz6BDix5NurTp06hTq17NurXr17Bjy55Nu7bt27hz697N21MEACH5BAUKAAcALOwATAAGAAUAAAMNeKqiI4IUUFQwYR2sEwAh+QQFCgAFACzsAEwACAAEAAADDnhnUO5HyGFqCAqQat5LACH5BAUKAAMALO4ATAAGAAUAAAQP8BQDjixoaKO7F4JlIUEEACH5BAUKAAYALO8ATAAFAAYAAAMMGFbWBc2NSJuIgYgEACH5BAUKAAUALO8ATAAFAAgAAAQT0JhwTgio1iCK98AnAsNHGJ90RAAh+QQFCgADACzvAEwABQAIAAAEFNDIQU04+JiST+EYYlAUgAhkgFIRACH5BAUKAAcALO4ATwAGAAUAAAMOeHphyyaoAgoRYijxTgIAIfkEBQoABQAs7ABQAAgABAAAAw5YutYE54TQzBD4LAVMTAAh+QQFCgADACzsAE8ABgAFAAAEDzCAQ48QI2ttNCoFBRhhBAAh+QQFCgAHACzsAE4ABQAGAAADDSgU19IwjhJBYKcYkwAAIfkEBQoABQAs7ABMAAQACAAAAw54ZlVGbYBGJxXh6GD0SgA7"},14:function(e,t,n){e.exports={formError:"Forms_formError__2GCsO",formLabel:"Forms_formLabel__17iSg",loginInput:"Forms_loginInput__3eemh",loginInput__profile:"Forms_loginInput__profile__2aanO",formBlock:"Forms_formBlock__URM1_",formBlock__inputs:"Forms_formBlock__inputs__2hI75",loginButton:"Forms_loginButton__3TscP",labeledCB:"Forms_labeledCB__3X_hy",fileUpload:"Forms_fileUpload__FAlo1"}},167:function(e,t,n){e.exports=n(294)},172:function(e,t,n){},173:function(e,t,n){},21:function(e,t,n){e.exports={imageModal:"ModalPhoto_imageModal__3ejYO",imageModal__body:"ModalPhoto_imageModal__body__10_9l",imageModal_imgContainer:"ModalPhoto_imageModal_imgContainer__2XOTr",imageModal_imgContainer__cell:"ModalPhoto_imageModal_imgContainer__cell__nqimn",imageModal_navigation:"ModalPhoto_imageModal_navigation__otHRh",imageModal_menu__left:"ModalPhoto_imageModal_menu__left__1gXQu",imageModal_menu__center:"ModalPhoto_imageModal_menu__center__29ibg",imageModal_menu__right:"ModalPhoto_imageModal_menu__right__1vs-d",imageModal_menu:"ModalPhoto_imageModal_menu__3OgMI"}},25:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(12),i=n(48),c=n.n(i);t.a=function(e){var t=e.to,n=e.linkName,a=e.isExternal,i=e.onClick;if(e.isDisabled)return r.a.createElement("span",{className:c.a.navLink+" "+c.a.navLink__disabled},n);if(!t)return r.a.createElement("span",{className:c.a.navLink,onClick:i},n);if(a){var l=t;return t.indexOf("https://")<0&&t.indexOf("localhost:")<0&&(l="https://"+t),r.a.createElement("a",{target:"_blank",className:c.a.navLink,href:l,onClick:i},n)}return r.a.createElement(o.b,{className:c.a.navLink,to:t,onClick:i},n)}},26:function(e,t,n){e.exports={pageHeader:"Header_pageHeader__3Udyi",pageHeader__border:"Header_pageHeader__border__I3SCx",home:"Header_home__7l_p7",home__logo:"Header_home__logo__1xbfD",searchBar:"Header_searchBar__3Wm36",menuBar:"Header_menuBar__3oi9C",menuBar__item:"Header_menuBar__item__Lo7WW"}},294:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(66),i=n.n(o),c=(n(172),n(173),n(34)),l=n(8),u=n(11),s=n(22),m=n(31);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={initialize:!1},g="social-network/init/SET_INITIALIZE",_=n(12),h=n(26),b=n.n(h),E=function(e){return r.a.createElement("ul",{className:b.a.menuBar},e.isAuth?r.a.createElement("li",{className:b.a.menuBar__item,key:"logout"},r.a.createElement("span",{onClick:function(){e.logout()}},"logout")):r.a.createElement("li",{className:b.a.menuBar__item,key:"login"},r.a.createElement(_.b,{to:"/login"},"login")," "),[{name:"add",path:"/add"},{name:"items",path:"/items"},{name:"events",path:"/events"},{name:"communities",path:"/communities"},{name:"users",path:"/users"}].map(function(e){return r.a.createElement("li",{className:b.a.menuBar__item,key:e.name},r.a.createElement(_.b,{to:e.path},e.name))}))},v=n(97),A=n.n(v),O=function(){return r.a.createElement("form",{className:A.a.searchBar,method:"get"},r.a.createElement("input",{className:A.a.searchBar__text,placeholder:"Search"}))},w=Object(u.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:m.d})(function(e){var t=e.isAuth,n=e.login,a=e.logout;return r.a.createElement("div",{className:b.a.pageHeader},r.a.createElement("div",{className:b.a.pageHeader__border},r.a.createElement("h1",{className:b.a.home},t&&r.a.createElement(_.b,{className:b.a.home__logo,to:"/"}," ",n," ")),r.a.createElement("div",{className:b.a.searchBar},r.a.createElement(O,null)),r.a.createElement(E,{isAuth:t,logout:a})))}),y=n(37),j=n(38),P=n.n(j),k=function(e){var t=e.item.count>0?r.a.createElement("span",{style:{flexDirection:"row"}}," (",r.a.createElement("span",{style:{fontWeight:"bold"}},e.item.count),")"):"";return r.a.createElement("li",{className:P.a.sideBar__navLi},r.a.createElement(_.b,{to:"/"+e.item.name.toLowerCase()}," ","My "+e.item.name,t))},C=function(e){var t=e.myId?"/id"+e.myId:"";return r.a.createElement("ol",{className:P.a.sideBar__nav},r.a.createElement("li",{className:P.a.sideBar__profileLi},r.a.createElement(_.b,{to:t,className:P.a.sideBar__nav__profile}," My Profile "),r.a.createElement(_.b,{to:"/edit",className:P.a.sideBar__nav__profile_edit}," ed. ")),e.alerts.map(function(e){return r.a.createElement(k,{item:e,key:e.name})}),r.a.createElement("li",{className:P.a.sideBar__navLi},r.a.createElement(_.b,{to:"/settings"},"My Settings")))},N=Object(u.b)(function(e){return{alerts:e.requests.alerts,myId:e.auth.myId}},{})(C),B=n(39),x=function(e){return r.a.createElement(B.a,{text:"my notes"})},S=Object(u.b)("",{})(function(e){Object(a.useEffect)(function(){t()},[]);var t=function(){};return r.a.createElement(x,null)}),I=n(14),M=n.n(I),F=n(134),T=n(94),L=n(67),D=n(76),U=n(56),H=n(42),R=function(e){e.meta;var t=e.input,n=e.label,a=e.reverse,o=Object(H.a)(e,["meta","input","label","reverse"]),i=n||"";return r.a.createElement("div",{className:M.a.labeledCB},a&&r.a.createElement("label",{htmlFor:"rememberMe"},i),r.a.createElement("input",Object.assign({},t,o,{type:"checkbox"})),!a&&r.a.createElement("label",{htmlFor:"rememberMe"},i))},q=Object(L.a)(4),G=Object(T.a)({form:"login"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:M.a.formBlock__inputs},e.error&&r.a.createElement("div",{className:M.a.formError}," ",e.error," "),r.a.createElement("div",{className:M.a.loginInput},r.a.createElement(F.a,{name:"email",placeholder:"Email",label:"Email:",component:D.a,validate:[L.b]})),r.a.createElement("div",{className:M.a.loginInput},r.a.createElement(F.a,{name:"password",placeholder:"Your password",label:"Password:",component:D.a,type:"password",validate:[L.b,q]})),r.a.createElement("div",null,r.a.createElement(F.a,{name:"rememberMe",component:R,label:"Remember me",reverse:!0}),r.a.createElement("div",{className:M.a.loginButton},r.a.createElement(U.a,{disable:e.submit},"Login"))))}),Q=n(25),z=Object(u.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{login:m.c})(function(e){return r.a.createElement(B.a,{text:"login"},r.a.createElement("div",{className:M.a.formBlock},e.isAuth?r.a.createElement("span",null,"I have an account and i want to logout first"):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}),r.a.createElement("span",null,"If you haven't an account, please ",r.a.createElement(Q.a,{to:"/registration",linkName:"register"})))))}),K=function(e){var t=e.conditionU,n=e.path,a=e.orPath;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(c.a,{to:n})):r.a.createElement(c.a,{to:a||"/login"}))},W=n(5),Y=n.n(W),J=n(10),X=n(47),V=n(9);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee={items:[],totalCount:0,currentUploading:null},te="social-network/user-photos/SET_PHOTOS",ne="social-network/user-photos/SET_IMAGE_ORDER",ae=function(e){return function(){var t=Object(J.a)(Y.a.mark(function t(n){var a;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.b.getPhotos(e);case 2:(a=t.sent).data.items&&n((r=a.data.items,o=a.data.totalCount,{type:te,photos:r,count:o}));case 4:case"end":return t.stop()}var r,o},t)}));return function(e){return t.apply(this,arguments)}}()},re=function(e){return{type:ne,order:e}},oe=n(69),ie=n(70),ce=function(e){return e.photos.totalCount},le=Object(ie.a)(function(e){return e.photos.items},ce,function(e,t){return e}),ue=n(132),se=n(65),me=n(46),fe=n.n(me),de=n(133),pe=function(e){var t=e.fullName,n=e.userId,a=e.currentUploading,o=e.startUpload,i=r.a.useState(0),c=Object(se.a)(i,2),l=c[0],u=c[1];return r.a.createElement("div",{className:fe.a.imagesControl},r.a.createElement("div",null,r.a.createElement(Q.a,{to:"/id"+n,linkName:t}),r.a.createElement("b",null," >> "),"photos"),a?r.a.createElement("span",null,"Uploading\xa0",a,"\xa0of\xa0",l):r.a.createElement("div",{className:fe.a.imagesControl__upload},r.a.createElement(U.a,{isNonButton:!0},r.a.createElement(de.a,{onUpload:function(e){e.target.files.length&&(u(e.target.files.length),o(e.target.files))},multiple:!0},"Upload new photos"))))},ge=n(21),_e=n.n(ge),he=function(e){var t=e.showSinglePhoto,n=e.isOwner,a=e.indexImg,o=e.imgCount,i=e.image,c=new Date(i.date).toLocaleDateString("en-Us");return r.a.createElement("div",{className:_e.a.imageModal,onClick:t.bind(null,null)},r.a.createElement("div",{className:_e.a.imageModal__body,onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:_e.a.imageModal_navigation},r.a.createElement("div",{className:_e.a.imageModal_menu__left},r.a.createElement(Q.a,{isDisabled:a<2,onClick:t.bind(null,a-1),linkName:"<< Previous  "})),r.a.createElement("div",{className:_e.a.imageModal_menu__center},r.a.createElement(Q.a,{onClick:t.bind(null,null),linkName:"Close"})),r.a.createElement("div",{className:_e.a.imageModal_menu__right},r.a.createElement(Q.a,{isDisabled:a===o,onClick:t.bind(null,a+1),linkName:"Next >>"}))),r.a.createElement("div",{className:_e.a.imageModal_imgContainer},r.a.createElement("div",{className:_e.a.imageModal_imgContainer__cell},r.a.createElement("img",{src:i.path}))),r.a.createElement("div",{className:_e.a.imageModal_menu},n?r.a.createElement("ul",{className:_e.a.imageModal_menu__left},r.a.createElement("li",null,r.a.createElement(Q.a,{linkName:"Set as profile image"})),r.a.createElement("li",null,r.a.createElement(Q.a,{linkName:"Delete this image"}))):r.a.createElement("div",null),r.a.createElement("div",{className:_e.a.imageModal_menu__left+" "+_e.a.imageModal_menu__right},r.a.createElement("li",null,"Uploaded ",c),r.a.createElement("li",null,r.a.createElement(Q.a,{isExternal:!0,to:i.path,linkName:"Watch full image version"}))))))},be=function(e){var t=r.a.useState(!1),n=Object(se.a)(t,2),a=n[0],o=n[1],i=function(e){o(e)};return r.a.createElement(B.a,{text:"id".concat(e.userId," photos, total: ").concat(e.totalCount)},e.isOwner&&r.a.createElement(pe,{userId:e.userId,fullName:e.fullName,currentUploading:e.currentUploading,startUpload:e.uploadPhotosRequest}),r.a.createElement("div",{className:fe.a.imagesPanel},e.photos.map(function(t,n){return r.a.createElement("div",{className:fe.a.image__preview,key:t.id,onClick:i.bind(null,n+1)},r.a.createElement("img",{src:t.preview,alt:"id ".concat(e.userId," photo ").concat(n+1)}))})),a&&r.a.createElement(he,{image:e.photos[a-1],isOwner:e.isOwner,imgCount:e.photos.length,indexImg:a,showSinglePhoto:i}))},Ee=Object(l.d)(c.f,Object(u.b)(function(e){return{photos:le(e),totalCount:ce(e),myId:e.auth.myId,isAuth:e.auth.isAuth,currentUploading:e.photos.currentUploading,fullName:Object(ue.b)(e)}},{getPhotosRequest:ae,getProfileRequest:oe.a,uploadPhotosRequest:function(e){return function(){var t=Object(J.a)(Y.a.mark(function t(n,a){var r,o,i,c,l,u,s,m;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=1,o=!0,i=!1,c=void 0,t.prev=4,l=e[Symbol.iterator]();case 6:if(o=(u=l.next()).done){t.next=16;break}return s=u.value,n(re(r++)),t.next=11,V.b.savePhoto(s);case 11:t.sent.data.resultCode;case 13:o=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),i=!0,c=t.t0;case 22:t.prev=22,t.prev=23,o||null==l.return||l.return();case 25:if(t.prev=25,!i){t.next=28;break}throw c;case 28:return t.finish(25);case 29:return t.finish(22);case 30:n(re(null)),m=a().auth.myId,n(ae(m));case 33:case"end":return t.stop()}},t,null,[[4,18,22,30],[23,,25,29]])}));return function(e,n){return t.apply(this,arguments)}}()}}))(function(e){var t=e.myId,n=e.getPhotosRequest,o=e.getProfileRequest,i=e.isAuth,c=Object(H.a)(e,["myId","getPhotosRequest","getProfileRequest","isAuth"]);Object(a.useEffect)(function(){u()},[c.match.params.userId]);var l=c.match.params.userId?c.match.params.userId:t,u=function(){o(l),n(l)};return r.a.createElement(be,Object.assign({},c,{userId:l,isOwner:i&&l===t}))}),ve=r.a.lazy(function(){return n.e(3).then(n.bind(null,314))}),Ae=r.a.lazy(function(){return n.e(6).then(n.bind(null,315))}),Oe=r.a.lazy(function(){return n.e(5).then(n.bind(null,312))}),we=r.a.lazy(function(){return n.e(4).then(n.bind(null,313))}),ye=Object(l.d)(c.f,Object(u.b)(function(e){return{isInitialized:e.app.initialize,isAuth:e.auth.isAuth,myId:e.auth.myId}},{initApp:function(){return function(e){e(Object(m.b)()).then(function(){e({type:g})}).catch(function(){return alert("Sever is not available now :(")})}}}))(function(e){var t=e.isInitialized,n=e.initApp,o=e.isAuth,i=e.myId;return Object(a.useEffect)(function(){return n()},[t]),t?r.a.createElement("div",{className:"main"},r.a.createElement("header",{className:"pageHeader"},r.a.createElement(w,null)),r.a.createElement("div",{className:"sideBar"},r.a.createElement(N,null)),r.a.createElement("div",{className:"pageBody"},r.a.createElement(c.b,{exact:!0,path:"/",render:function(){return r.a.createElement(K,{conditionU:o,path:"/id"+i,orPath:"/login"})}}),r.a.createElement(c.b,{exact:!0,path:"/id:userId?",component:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(y.a,null)},r.a.createElement(ve,null))}}),r.a.createElement(c.b,{exact:!0,path:"/edit",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{conditionU:o}),r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(y.a,null)},r.a.createElement(ve,{isEdit:!0})))}}),r.a.createElement(c.b,{path:"/friends/:pageNo?",render:function(e){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(y.a,null)},r.a.createElement(we,null))}}),r.a.createElement(c.b,{path:"/users/:pageNo?",render:function(e){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(y.a,null)},r.a.createElement(Oe,null))}}),r.a.createElement(c.b,{path:"/photos:userId?",component:Ee}),r.a.createElement(c.b,{path:"/notes",component:S}),r.a.createElement(c.b,{path:"/login",component:z}),r.a.createElement(c.b,{path:"/registration",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(y.a,null)},r.a.createElement(Ae,null))}}))):r.a.createElement(y.a,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=n(141),Pe=n(135),ke={alerts:[{name:"Follows",count:0},{name:"Photos",count:0},{name:"Music",count:0},{name:"Messages",count:10},{name:"Notes",count:0},{name:"Groups",count:0}]},Ce=n(100),Ne=Object(l.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return d({},e,{initialize:!0});default:return e}},profile:oe.c,auth:m.a,form:Pe.a,requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;return t.type,e},users:Ce.g,photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return $({},e,{items:Object(X.a)(t.photos),totalCount:t.count});case ne:return $({},e,{currentUploading:t.order});default:return e}}}),Be=Object(l.e)(Ne,Object(l.a)(je.a));i.a.render(r.a.createElement(_.a,null,r.a.createElement(u.a,{store:Be},r.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},31:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return E}),n.d(t,"e",function(){return v});var a=n(5),r=n.n(a),o=n(10),i=n(22),c=n(9),l=n(24);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m={myId:null,email:null,login:null,isAuth:!1,isNewUserRegistered:!1},f="social-network/auth/SET_AUTH",d="social-network/auth/DELETE_AUTH",p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return s({},e,{},t.data,{isAuth:!0});case d:return s({},m);case"social-network/auth/NEW_USER_REGISTER_SUCCESS":return s({},e,{isNewUserRegistered:!0});default:return e}},g=function(e,t,n){return{type:f,data:{myId:e,email:t,login:n}}},_=function(){return{type:d}},h=function(){return function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,o,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.me();case 2:0===(n=e.sent).data.resultCode?(a=n.data.data,o=a.id,i=a.email,l=a.login,t(g(o,i,l))):t(_());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.data.resultCode&&t(_());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},E=function(e,t,n){return function(){var a=Object(o.a)(r.a.mark(function a(o){var i,u;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.login(e,t,n);case 2:0===(i=a.sent).data.resultCode?o(h()):(u=i.data.messages&&i.data.messages.length>0?i.data.messages[0]:"login error",o(Object(l.a)("login",{_error:u})));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},v=function(e,t,n,a){return function(){var i=Object(o.a)(r.a.mark(function o(i){var u;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.register(e,t,n,a);case 2:0===(u=r.sent).data.resultCode?i({type:"social-network/auth/NEW_USER_REGISTER_SUCCESS"}):i(Object(l.a)("register",{_error:u.data.messages[0]||"Registration error"}));case 4:case"end":return r.stop()}},o)}));return function(e){return i.apply(this,arguments)}}()}},37:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(139),i=n.n(o);t.a=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:i.a,alt:"loading in process..."}))}},38:function(e,t,n){e.exports={sideBar__nav:"SideBar_sideBar__nav__4vp-t",sideBar__profileLi:"SideBar_sideBar__profileLi__1qVVQ",sideBar__nav__profile:"SideBar_sideBar__nav__profile__o5Ygo",sideBar__nav__profile_edit:"SideBar_sideBar__nav__profile_edit__34URJ",sideBar__navLi:"SideBar_sideBar__navLi__11uoV"}},39:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(74),i=n.n(o);t.a=function(e){return r.a.createElement("div",{className:i.a.profileBorder},r.a.createElement("div",{className:i.a.profileHeader},e.text),r.a.createElement("div",{className:i.a.profileBorder__subBorder},e.children))}},46:function(e,t,n){e.exports={imagesPanel:"Photos_imagesPanel__1JHMY",image__preview:"Photos_image__preview__2-6Wp",imagesControl:"Photos_imagesControl__1I9vo",imagesControl__upload:"Photos_imagesControl__upload__23Wy3"}},48:function(e,t,n){e.exports={navLink:"Link_navLink__dYPCG",navLink__disabled:"Link_navLink__disabled__qvAc5"}},56:function(e,t,n){"use strict";var a=n(79),r=n.n(a),o=n(0),i=n.n(o);t.a=function(e){return e.isNonButton?i.a.createElement("label",{className:r.a.follow__button},i.a.createElement("span",null,e.children)):i.a.createElement("button",Object.assign({className:r.a.follow__button},e,{onClick:e.onClick})," ",e.children," ")}},67:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var a=function(e){if(!(e&&e.length>0))return"Field is required"},r=function(e){return function(t){if(t&&t.length<e)return"field must consist more ".concat(e," symbols")}},o=function(e){return e.password===e.password2?void 0:{password2:"Passwords confirm is not valid"}}},69:function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"a",function(){return A}),n.d(t,"d",function(){return O}),n.d(t,"b",function(){return w}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return P});var a=n(5),r=n.n(a),o=n(10),i=n(22),c=n(9),l=n(24);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m={user:{},communities:["community of people who promised himself go to sleep as soon as back from work","====== PhYSiCaL fAcUlTy ArE bEsToFtHeBeStOfThEbEsTs!!!! =====","&#9733;&#9733;&#9733; all new Films of 2008. Watch online! &#9733;&#9733;&#9733;","only VIP"],statusText:"",profileUpdateFetching:!1,profileFetch:!0},f="social-network/user-profile/SET_STATUS",d="social-network/user-profile/SET_PROFILE",p="social-network/user-profile/SET_PHOTO",g="social-network/user-profile/UPDATE_PROFILE_FETCHING",_="social-network/user-profile/GET_PROFILE_FETCH_TOGGLE",h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return s({},e,{user:t.userProfile});case f:return s({},e,{statusText:t.statusText});case p:var n=s({},e,{user:s({},e.user,{photos:t.photos})});return n;case g:return s({},e,{profileUpdateFetching:t.isFetching});case _:return console.log(t.isFetching),s({},e,{profileFetch:t.isFetching});default:return e}},b=function(e){return{type:f,statusText:e}},E=function(e){return{type:g,isFetching:e}},v=function(e){return{type:_,isFetching:e}},A=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(v(!0)),t.next=3,c.c.getUserProfile(e);case 3:(a=t.sent).data&&(n((r=a.data,{type:d,userProfile:r})),n(v(!1)));case 5:case"end":return t.stop()}var r},t)}));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.setStatus(e);case 2:0===t.sent.data.resultCode&&n(b(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.getStatus(e);case 2:a=t.sent,n(b(a.data));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n,a){var o,i,u,s,m;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=a().auth.myId,n(E(!0)),t.next=4,c.c.setProfile(e);case 4:0===(i=t.sent).data.resultCode?(n(A(o)),n(E(!1))):(u=i.data.messages&&i.data.messages.length>0?i.data.messages[0]:"update profile error",(s=j(u))?(m=JSON.parse('{"'.concat(s,'":"').concat(u,'"}')),n(Object(l.a)("updateProfile",{contacts:m}))):n(Object(l.a)("updateProfile",{_error:u})));case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},j=function(e){var t;if((t=e.indexOf("Contacts->"))>0){var n=e.slice(t+10);if((n=n.slice(0,n.indexOf(")"))).length>1)return n.toLowerCase()}return null},P=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.savePhoto(e);case 2:0===(a=t.sent).data.resultCode?n((r=a.data.photos,{type:p,photos:r})):n(Object(l.a)("upload_image",{_error:a.data.messages[0]||"Image loading error"}));case 4:case"end":return t.stop()}var r},t)}));return function(e){return t.apply(this,arguments)}}()}},74:function(e,t,n){e.exports={profileHeader:"ElementNameHeader_profileHeader__2z4fU",profileBorder:"ElementNameHeader_profileBorder__LZK2W",profileBorder__subBorder:"ElementNameHeader_profileBorder__subBorder__NTq6q"}},76:function(e,t,n){"use strict";var a=n(42),r=n(0),o=n.n(r),i=n(14),c=n.n(i);t.a=function(e){var t=e.meta,n=e.input,r=e.label,i=e.multiline,l=Object(a.a)(e,["meta","input","label","multiline"]),u=t.touched&&t.error;return o.a.createElement("div",null,r&&o.a.createElement("div",{className:c.a.formLabel},r),i?o.a.createElement("textarea",Object.assign({},n,l)):o.a.createElement("input",Object.assign({},n,l)),u&&o.a.createElement("div",{className:c.a.formError},t.error))}},79:function(e,t,n){e.exports={follow__button:"Buttons_follow__button__3x7cz"}},9:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a=n(137),r=a.create({baseURL:"https://oo-server.herokuapp.com/api/",withCredentials:!0}),o=function(e,t){var n=new FormData;return n.append("image",t),r.put(e,n,{headers:{"Content-Type":"multipart/form-data"}})},i={getByPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.get("users?page="+e)},follow:function(e){return r.post("follow/"+e)},unfollow:function(e){return r.delete("follow/"+e)},getFriends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.get("friends?page="+e)},getFriendsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return r.get("friends?page=".concat(e,"&id= ").concat(t))}},c={getStatus:function(e){return r.get("profile/status/"+e)},setStatus:function(e){return r.put("profile/status/",{status:e})},getUserProfile:function(e){return r.get("profile/"+e)},setProfile:function(e){return r.put("profile/",e)},savePhoto:function(e){return o("profile/photo/",e)}},l={me:function(){return r.get("auth/me")},logout:function(){return r.delete("auth/login")},login:function(e,t,n){return r.post("auth/login",{email:e,password:t,rememberMe:n})},register:function(e,t,n,a){return r.post("auth/register",{email:e,password:t,login:n,fullName:a})}},u={getPhotos:function(e){return r.get("/photos?id="+e)},savePhoto:function(e){return o("photo/",e)}}},97:function(e,t,n){e.exports={searchBar:"SearchBar_searchBar__282rX",searchBar__text:"SearchBar_searchBar__text__2vTfY"}}},[[167,1,2]]]);
//# sourceMappingURL=main.718c10da.chunk.js.map