{"version":3,"sources":["utils/array.js","redux/reducers/users-reducer.js","redux/selectors/profile-selector.js","components/forms/FileUpload.jsx","media/3Bta.gif","components/forms/Forms.module.css","components/photos/modal-photo-view/ModalPhoto.module.css","components/instruments/link/Link.jsx","components/header/Header.module.css","redux/reducers/init-reducer.js","components/header/MainMenu.jsx","components/forms/searchbar-form/SearcBar.jsx","components/header/Header.jsx","components/sidebar/SideBar.jsx","components/sidebar/AlertsContainer.js","components/notes/Notes.js","components/forms/inputs-validate/CheckBox.jsx","components/forms/LoginForm.jsx","components/login-register/Login.jsx","components/login-register/LoginRedirectTo.jsx","redux/reducers/images-reducer.js","redux/selectors/photos-selector.js","components/photos/UploadPhotosPanel.js","components/photos/modal-photo-view/ModalPhotoView.js","components/photos/Photos.js","components/photos/PhotosContainer.js","App.js","serviceWorker.js","redux/reducers/requests-reducer.js","redux/store.js","index.js","redux/reducers/auth-reducer.js","components/instruments/Preloader.jsx","components/sidebar/SideBar.module.css","components/profile/element-name-header/ElementNameHeader.jsx","components/photos/Photos.module.css","components/instruments/link/Link.module.css","components/instruments/buttons/Button.jsx","components/forms/forms-validators.js","redux/reducers/profile-reducer.js","components/profile/element-name-header/ElementNameHeader.module.css","components/forms/inputs-validate/TextBox.jsx","components/instruments/buttons/Buttons.module.css","oosocial-api/api.js","components/forms/searchbar-form/SearchBar.module.css"],"names":["Arrays","items","itemName","itemValue","newProps","map","item","initialState","users","id","name","status","followed","photos","small","large","totalCount","error","currentPage","pageSize","isFetching","isToggling","friends","profiles","TOGGLE_FETCHING","SET_USERS","SET_USERS_PAGE","SET_TOGGLE_FOLLOWING","CHANGE_FOLLOWING_STATUS","SET_FRIENDS","usersReducer","state","action","type","count","page","filter","isFollow","setFetching","setUsers","setCurrentPage","getUsers","dispatch","a","usersAPI","getByPage","response","data","setToggleFollowing","setFollowing","followOrUnFollow","followMethod","isFollowing","resultCode","beginFollowing","follow","bind","endFollowing","unfollow","getFriendsByPage","getFriends","getFriendsById","getProfile","profile","user","getProfileFullName","fullName","getUserRating","createSelector","userId","filledParams","totalParams","aboutMe","Object","keys","contacts","key","console","log","Math","trunc","reduxForm","form","props","htmlFor","className","style","fileUpload","onChange","onUpload","multiple","children","module","exports","Link","to","linkName","isExternal","onClick","isDisabled","s","navLink","navLink__disabled","extAddress","indexOf","target","href","initialize","SET_INITIALIZE","MainMenu","menu","menuBar","isAuth","menuBar__item","logout","path","SearchBar","searchBar","method","searchBar__text","placeholder","connect","auth","login","pageHeader","pageHeader__border","home","home__logo","SideBarItemWithAlert","ret","flexDirection","fontWeight","sideBar__navLi","toLowerCase","SideBar","ownerId","myId","sideBar__nav","sideBar__profileLi","sideBar__nav__profile","sideBar__nav__profile_edit","alerts","requests","Notes","ElementNameHeader","text","useEffect","handleNotes","CheckBox","meta","input","label","reverse","labelText","labeledCB","minLength4","minLength","onSubmit","handleSubmit","formBlock__inputs","formError","loginInput","Field","component","TextBox","validate","required","loginButton","Button","disable","submit","formBlock","value","email","password","rememberMe","LoginRedirectTo","conditionU","orPath","currentUploading","SET_PHOTOS","SET_IMAGE_ORDER","getPhotosRequest","mediaAPI","getPhotos","setUploadingImageOrder","order","getPhotosCount","getSortedImages","UploadPhotosPanel","startUpload","React","useState","totalUpload","setTotalUpload","imagesControl","imagesControl__upload","isNonButton","FileUpload","event","files","length","ModalPhotoView","showSinglePhoto","isOwner","indexImg","imgCount","image","date","Date","toLocaleDateString","imageModal","imageModal__body","e","stopPropagation","imageModal_navigation","imageModal_menu__left","imageModal_menu__center","imageModal_menu__right","imageModal_imgContainer","imageModal_imgContainer__cell","src","imageModal_menu","Photos","indexImgModal","setImgModal","index","uploadPhotosRequest","imagesPanel","photo","image__preview","preview","alt","compose","withRouter","getProfileRequest","getState","i","savePhoto","handlePhotos","match","params","ProfileContainer","lazy","Register","UsersContainer","FriendsContainer","isInitialized","app","initApp","getAuthRequest","then","catch","alert","AlertsContainer","exact","render","Suspense","fallback","Preloader","isEdit","PhotosContainer","Login","Boolean","window","location","hostname","rootReducer","combineReducers","profileReducer","authReducer","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","isNewUserRegistered","SET_AUTH","DELETE_AUTH","setAuthParams","clearAuthParams","authAPI","me","err","messages","stopSubmit","_error","register","fetchingPic","profileBorder","profileHeader","profileBorder__subBorder","follow__button","minlength","values","password2","communities","statusText","profileUpdateFetching","profileFetch","SET_STATUS","SET_PROFILE","SET_PHOTO","UPDATE_PROFILE_FETCHING","GET_PROFILE_FETCH_TOGGLE","userProfile","newState","setStatus","uploadProfileFetching","getProfileFetch","profileAPI","getUserProfile","setStatusRequest","getStatusRequest","getStatus","uploadProfile","setProfile","errMessage","contactError","getContactError","submitERROR","JSON","parse","message","contactsPos","result","slice","uploadPhoto","multiline","isError","touched","formLabel","instance","axios","baseURL","process","withCredentials","savePhotoSingle","route","formData","FormData","append","put","headers","get","post","delete"],"mappings":"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","file":"static/js/main.718c10da.chunk.js","sourcesContent":["\r\nexport const Arrays = {\r\n\r\n    findOneAndUpdate(items, itemName, itemValue, newProps) {\r\n        return items.map(item => {\r\n            if (item[itemName] == itemValue)\r\n                return {...item, ...newProps}\r\n            else\r\n                return item;\r\n        })\r\n    }\r\n\r\n}\r\n\r\n","import {usersAPI} from \"../../oosocial-api/api\";\r\nimport {Arrays} from \"../../utils/array\";\r\n\r\nconst initialState={\r\n    users: [\r\n        { id: 0, name: \"home\", status: \"i'm fattest\", followed: false, photos: {small: null, large:null}} ,\r\n        { id: 1, name: \"street\", status: \"i'm smallest\", followed: true, photos: {small: null, large:null}},\r\n        { id: 2, name: \"aubo rdadje\", status: \"i'm smallest\", followed: true, photos: {small: null, large:null}},\r\n        { id: 3, name: \"Ofre nmd\", status: \"i'm smallest\", followed: true, photos: {small: null, large:null}}\r\n    ],\r\n    totalCount: 600,\r\n    error: null,\r\n\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n\r\n    isFetching: false,\r\n\r\n    isToggling: [],\r\n\r\n    friends: {\r\n        profiles: [],\r\n        totalCount: 0\r\n    }\r\n}\r\n\r\nconst TOGGLE_FETCHING = 'social-network/users-search/TOGGLE_FETCHING'\r\nconst SET_USERS = 'social-network/users-search/SET_USERS'\r\nconst SET_USERS_PAGE = 'social-network/users-search/SET_USERS_PAGE'\r\n\r\nconst SET_TOGGLE_FOLLOWING = 'social-network/users-search/SET_TOGGLE_FOLLOWING'\r\nconst CHANGE_FOLLOWING_STATUS = 'social-network/users-search/CHANGE_FOLLOWING_STATUS'\r\n\r\nconst SET_FRIENDS = 'social-network/users-search/SET_FRIENDS'\r\n\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case SET_USERS:\r\n            return {...state, users: [...action.users], totalCount: action.count}\r\n        case SET_USERS_PAGE:\r\n            return {...state, currentPage: action.page}\r\n\r\n        case SET_TOGGLE_FOLLOWING:\r\n            if (action.isToggling)\r\n                return {...state, isToggling: [action.id, ...state.isToggling]}\r\n            else return {\r\n                ...state, isToggling: state.isToggling.filter((id) => {\r\n                    return (id !== action.id)\r\n                })}\r\n        case CHANGE_FOLLOWING_STATUS:\r\n            return {\r\n                ...state, users: Arrays.findOneAndUpdate(state.users, \"id\", action.id, {followed: action.isFollow})\r\n                }\r\n\r\n        case SET_FRIENDS:\r\n            return {...state, friends:{ profiles: [...action.friends], totalCount: action.totalCount}}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n    const setFetching = (isFetching) => {return {type:TOGGLE_FETCHING, isFetching}}\r\n    const setUsers = (users, count) => {return {type: SET_USERS, users, count}}\r\n\r\n\r\n    export const setCurrentPage = (page) => {return {type: SET_USERS_PAGE, page}}\r\n\r\nexport const getUsers = (page) => async (dispatch) => {\r\n        dispatch(setFetching(true))\r\n\r\n        let response = await usersAPI.getByPage(page);\r\n        if (response.data.items)\r\n        {\r\n                dispatch(setUsers(response.data.items, response.data.totalCount))\r\n                dispatch(setFetching(false))\r\n        }\r\n}\r\n\r\n//add user id to list of just following users\r\nconst setToggleFollowing = (isToggling, id) => { return {type: SET_TOGGLE_FOLLOWING, isToggling, id}}\r\n\r\n//set following status for user by id\r\nconst setFollowing = (id, isFollow) => { return {type: CHANGE_FOLLOWING_STATUS, id, isFollow}\r\n}\r\n\r\n//\r\nconst followOrUnFollow = async (id, followMethod, isFollowing, dispatch) =>  {\r\n    dispatch(setToggleFollowing(true, id))\r\n    // запрос к апи\r\n    let response = await followMethod(id)\r\n    if (response.data.resultCode === 0) {\r\n        //unfollow action createrl\r\n        dispatch(setFollowing(id, isFollowing))\r\n        //stop freezing follow button for current user\r\n        dispatch(setToggleFollowing(false, id))\r\n\r\n    }\r\n}\r\n\r\nexport const beginFollowing = (id) => {\r\n    return async (dispatch) => {\r\n        followOrUnFollow(id, usersAPI.follow.bind(usersAPI), true, dispatch)\r\n    }\r\n}\r\n\r\nexport const endFollowing = (id) => {\r\n    return async (dispatch) => {\r\n        followOrUnFollow(id, usersAPI.unfollow.bind(usersAPI), false, dispatch)\r\n    }\r\n}\r\n\r\nexport const getFriendsByPage = (page) => async (dispatch) => {\r\n    dispatch(setFetching(true))\r\n    const response = await usersAPI.getFriends(page)\r\n    if (response.data.resultCode === 0)\r\n    {\r\n        dispatch(setUsers(response.data.items, response.data.totalCount))\r\n        dispatch(setFetching(false))\r\n    }\r\n}\r\n\r\nconst setFriends = (friends, totalCount) => {return {type: SET_FRIENDS, friends, totalCount}}\r\n\r\nexport const getFriendsById = (page, id) => async (dispatch) => {\r\n    const response = await usersAPI.getFriendsById(page, id);\r\n    if (response.data.resultCode === 0)\r\n        dispatch(setFriends(response.data.items, response.data.totalCount))\r\n}\r\n\r\n\r\n\r\n","import {createSelector} from \"reselect\"\r\n\r\nexport const getProfile = (state) => {\r\n    return  state.profile.user;\r\n}\r\n\r\nexport const getProfileFullName = (state) => {\r\n    return  state.profile.user.fullName;\r\n}\r\n\r\n\r\nexport const getUserRating = createSelector(getProfile, (user) => {\r\n\r\n    if (! user.userId) return null\r\n    let filledParams = 1;\r\n    let totalParams = 1;\r\n\r\n    if (user.aboutMe) filledParams++;\r\n    totalParams++;\r\n\r\n    if (user.photos.large)\r\n        filledParams++;\r\n    totalParams++;\r\n\r\n    Object.keys(user.contacts).map((key) => {\r\n        if (user.contacts[key]) filledParams++;\r\n        totalParams++;\r\n    })\r\n    console.log(filledParams + \" \" + totalParams)\r\n\r\n    return Math.trunc(100 * filledParams / totalParams) ;\r\n\r\n})\r\n\r\n","import React from 'react';\nimport style from './Forms.module.css';\nimport {reduxForm} from \"redux-form\";\n\nconst FileUpload = (props) => {\n    console.log(props.error);\n    return (\n        <>\n            {props.error}\n            <label htmlFor={\"file\"} className={style.fileUpload}>\n                <input type=\"file\" name=\"file\" id=\"file\" onChange={props.onUpload} multiple={!! props.multiple}/>\n                 {props.children}\n            </label>\n        </>\n    )\n}\n\nexport default reduxForm({form: 'upload_image'})(FileUpload);\n","module.exports = \"data:image/gif;base64,R0lGODlh4AGgAPMAANra2uPj49LS0szMzMDAwN7e3ubm5u7u7tzc3Le3t6qqqrGxsQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA4AGgAAAE//DISau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyyWw6n9CodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo0dKBrIMCAhg4CM3AwQEIAhgUhuAAQAkGCjQEpsBBBRI1rRWgOaEkDt5ljxgQGfQaiQD+DxaLeRQplCjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz6BDix5NurTp06hTq17NurXr17Bjy55Nu7bt27hz697N21MEACH5BAUKAAcALOwATAAGAAUAAAMNeKqiI4IUUFQwYR2sEwAh+QQFCgAFACzsAEwACAAEAAADDnhnUO5HyGFqCAqQat5LACH5BAUKAAMALO4ATAAGAAUAAAQP8BQDjixoaKO7F4JlIUEEACH5BAUKAAYALO8ATAAFAAYAAAMMGFbWBc2NSJuIgYgEACH5BAUKAAUALO8ATAAFAAgAAAQT0JhwTgio1iCK98AnAsNHGJ90RAAh+QQFCgADACzvAEwABQAIAAAEFNDIQU04+JiST+EYYlAUgAhkgFIRACH5BAUKAAcALO4ATwAGAAUAAAMOeHphyyaoAgoRYijxTgIAIfkEBQoABQAs7ABQAAgABAAAAw5YutYE54TQzBD4LAVMTAAh+QQFCgADACzsAE8ABgAFAAAEDzCAQ48QI2ttNCoFBRhhBAAh+QQFCgAHACzsAE4ABQAGAAADDSgU19IwjhJBYKcYkwAAIfkEBQoABQAs7ABMAAQACAAAAw54ZlVGbYBGJxXh6GD0SgA7\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formError\":\"Forms_formError__2GCsO\",\"formLabel\":\"Forms_formLabel__17iSg\",\"loginInput\":\"Forms_loginInput__3eemh\",\"loginInput__profile\":\"Forms_loginInput__profile__2aanO\",\"formBlock\":\"Forms_formBlock__URM1_\",\"formBlock__inputs\":\"Forms_formBlock__inputs__2hI75\",\"loginButton\":\"Forms_loginButton__3TscP\",\"labeledCB\":\"Forms_labeledCB__3X_hy\",\"fileUpload\":\"Forms_fileUpload__FAlo1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageModal\":\"ModalPhoto_imageModal__3ejYO\",\"imageModal__body\":\"ModalPhoto_imageModal__body__10_9l\",\"imageModal_imgContainer\":\"ModalPhoto_imageModal_imgContainer__2XOTr\",\"imageModal_imgContainer__cell\":\"ModalPhoto_imageModal_imgContainer__cell__nqimn\",\"imageModal_navigation\":\"ModalPhoto_imageModal_navigation__otHRh\",\"imageModal_menu__left\":\"ModalPhoto_imageModal_menu__left__1gXQu\",\"imageModal_menu__center\":\"ModalPhoto_imageModal_menu__center__29ibg\",\"imageModal_menu__right\":\"ModalPhoto_imageModal_menu__right__1vs-d\",\"imageModal_menu\":\"ModalPhoto_imageModal_menu__3OgMI\"};","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nimport s from './Link.module.css'\n\n//\nconst Link = ({to, linkName, isExternal, onClick, isDisabled}) => {\n    //для ссылок на сторонние Url\n    if (isDisabled)\n        return <span className={s.navLink + \" \" + s.navLink__disabled} >{linkName}</span>\n    if (!to)\n        return  <span className={s.navLink} onClick={onClick}>{linkName}</span>\n    if (isExternal){\n        let extAddress = to;\n        if (to.indexOf('https://') < 0 && to.indexOf('localhost:') < 0)\n            extAddress = 'https://' + to\n        return <a target='_blank' className={s.navLink} href={extAddress}  onClick={onClick}>{linkName}</a>\n    }\n    return (<NavLink className={s.navLink} to={to} onClick={onClick}>{linkName}</NavLink>)\n}\n\nexport default Link;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageHeader\":\"Header_pageHeader__3Udyi\",\"pageHeader__border\":\"Header_pageHeader__border__I3SCx\",\"home\":\"Header_home__7l_p7\",\"home__logo\":\"Header_home__logo__1xbfD\",\"searchBar\":\"Header_searchBar__3Wm36\",\"menuBar\":\"Header_menuBar__3oi9C\",\"menuBar__item\":\"Header_menuBar__item__Lo7WW\"};","import {getAuthRequest} from \"./auth-reducer\";\n\nlet initialState = {\n    initialize: false\n}\n\nconst SET_INITIALIZE = 'social-network/init/SET_INITIALIZE'\n\nexport let initReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_INITIALIZE:\n            return {...state, initialize: true}\n        default:\n            return state;\n    }\n}\n\nlet setInitSuccess = () => { return {type: SET_INITIALIZE} }\n\n//инициализируем приложение, запрашиваем на сервере статус авторизации\nexport const initApp = () => (dispatch) => {\n    dispatch(getAuthRequest()).then( () => {\n        dispatch(setInitSuccess())\n}).catch ( () => alert(\"Sever is not available now :(\"))\n\n}\n\n","import React from 'react';\nimport menu from './Header.module.css'\nimport {NavLink} from \"react-router-dom\";\n\n\nconst MainMenu = (props) => {\n    let menuItems = [{name: 'add', path: '/add'}, {name: 'items', path: '/items'},\n                     {name: 'events', path: '/events'}, {name: 'communities', path: '/communities'}, {name: 'users', path: '/users'} ];\n    let handleLogout = () => {\n        props.logout()\n    }\n    //для авторизованного пользователя выводим logout для неавторизованного login\n    return (\n        <ul className={menu.menuBar} >\n            {props.isAuth ? <li className={menu.menuBar__item} key='logout' ><span onClick={handleLogout}>logout</span></li> :\n                <li className={menu.menuBar__item} key='login'><NavLink to='/login'>login</NavLink> </li>}\n            { menuItems.map( (item) => {\n                return( <li className={menu.menuBar__item} key={item.name}><NavLink to={item.path}>{item.name}</NavLink></li> )\n            }) }\n        </ul>\n    )\n}\n\nexport default MainMenu;","import React from 'react';\nimport style from './SearchBar.module.css';\n\nconst SearchBar = () => {\n    return (\n        <form className={style.searchBar} method=\"get\">\n            <input className={style.searchBar__text}  placeholder=\"Search\" />\n        </form>\n    )\n}\n\nexport default SearchBar;","import React from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/reducers/auth-reducer\";\n\nimport style from './Header.module.css';\n\nimport MainMenu from \"./MainMenu\";\nimport SearchBar from \"../forms/searchbar-form/SearcBar\";\n\nconst Header = ({isAuth, login, logout}) => {\n    return (\n        <div className={style.pageHeader}>\n            <div className={style.pageHeader__border}>\n                <h1 className={style.home}>\n                    {isAuth && <NavLink className={style.home__logo} to='/'> {login} </NavLink>}\n                </h1>\n                <div className={style.searchBar}>\n                    <SearchBar/>\n                </div>\n                <MainMenu isAuth={isAuth} logout={logout}/>\n            </div>\n        </div>\n    )\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login\n    }\n}\n\n\nexport default connect (mapStateToProps, {logout}) (Header);","import React from 'react';\nimport {NavLink} from \"react-router-dom\";\n\nimport s from  './SideBar.module.css'\n\nconst SideBarItemWithAlert = (props) => {\n    let ret = (props.item.count > 0) ?\n        <span style={{flexDirection: 'row'}}> (\n            <span style={{fontWeight: 'bold'}}>{props.item.count}</span>)</span> : '';\n\n    return <li className={s.sideBar__navLi}><NavLink\n        to={\"/\" + props.item.name.toLowerCase()}> {'My ' + props.item.name}{ret}</NavLink>\n    </li>\n}\n\nconst SideBar = (props) => {\n    let ownerId = props.myId ? \"/id\" + props.myId : \"\";\n    return (\n        <ol className={s.sideBar__nav}>\n            <li className={s.sideBar__profileLi}>\n                <NavLink to={ownerId} className={s.sideBar__nav__profile}> My Profile </NavLink>\n                <NavLink to='/edit' className={s.sideBar__nav__profile_edit}> ed. </NavLink>\n            </li>\n\n            { props.alerts.map( (item) => { return <SideBarItemWithAlert item={item}  key={item.name}/> } ) }\n            <li className={s.sideBar__navLi}><NavLink to='/settings'>My Settings</NavLink>\n            </li>\n        </ol>\n    )\n}\n\nexport default SideBar;","import {connect} from \"react-redux\";\nimport SideBar from \"./SideBar\";\n\nlet mapStateToProps = (state) => {\n    return {\n        alerts: state.requests.alerts,\n        myId: state.auth.myId\n    }\n}\n\nexport default connect(mapStateToProps, {})(SideBar)","import React, {useEffect} from 'react';\r\n\r\nimport {connect} from \"react-redux\";\r\nimport ElementNameHeader from \"../profile/element-name-header/ElementNameHeader\";\r\n\r\nconst Notes = (props) => {\r\n    return (\r\n        <ElementNameHeader text={'my notes'}>\r\n\r\n        </ElementNameHeader>\r\n    )\r\n}\r\n\r\nconst NotesContainer = (props) => {\r\n\r\n    //props.getProfileL()\r\n    useEffect(() => {handleNotes()}, [])\r\n\r\n    const handleNotes = () => {\r\n\r\n    }\r\n    return <Notes />\r\n}\r\n\r\nexport default connect(\"\", {}) (NotesContainer)","import React from 'react';\n\nimport s from  '../Forms.module.css'\n\n//свой labeled checkbox, reverse регулирует появление подписи после или перед боксом\nconst CheckBox = ({meta, input, label, reverse, ...props}) => {\n    const labelText =  (!! label) ? label : \"\"\n    return (\n        <div className={ s.labeledCB}>\n            { reverse && <label htmlFor=\"rememberMe\">{labelText}</label>}\n            <input {...input} {...props} type=\"checkbox\" />\n            { (!reverse) && <label htmlFor=\"rememberMe\">{labelText}</label>}\n        </div>\n    )}\nexport default CheckBox","import React from 'react';\n\nimport s from  './Forms.module.css'\n\nimport {Field, reduxForm} from 'redux-form'\nimport {minLength, required} from \"./forms-validators\";\n\nimport TextBox from \"./inputs-validate/TextBox\";\nimport Button from \"../instruments/buttons/Button\";\nimport CheckBox from \"./inputs-validate/CheckBox\";\n\n\nconst minLength4 = minLength(4);\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={s.formBlock__inputs}>\n            {props.error && <div className={s.formError}> {props.error} </div>}\n            <div className={s.loginInput}>\n                <Field name=\"email\" placeholder=\"Email\" label=\"Email:\" component={TextBox} validate={[required]}/>\n            </div>\n            <div className={s.loginInput}>\n                <Field name=\"password\" placeholder=\"Your password\" label=\"Password:\" component={TextBox} type=\"password\"\n                       validate={[required, minLength4]}/>\n            </div>\n            <div>\n                <Field name=\"rememberMe\" component={CheckBox} label='Remember me' reverse={true}/>\n                <div className={s.loginButton}>\n                    <Button disable={props.submit}>Login</Button>\n                </div>\n            </div>\n        </form>\n    )\n}\n//даём уникальное имя форме логинизации и оборачиваем ХОКом\nexport default reduxForm({form: 'login'})(LoginForm)\n","import React from \"react\";\nimport {connect} from \"react-redux\";\n\nimport {login} from \"../../redux/reducers/auth-reducer\";\n\nimport ElementNameHeader from \"../profile/element-name-header/ElementNameHeader\";\nimport LoginForm from \"../forms/LoginForm\";\nimport Link from \"../instruments/link/Link\";\n\nimport s from \"../forms/Forms.module.css\";\n\nconst Login = (props) => {\n    const formSubmit = (value) => {\n        props.login(value.email, value.password, value.rememberMe)\n    }\n    return (\n        <ElementNameHeader text='login'>\n            <div className={s.formBlock}>\n                {(props.isAuth) ?\n                    <span>I have an account and i want to logout first</span> :\n                    <>\n                        <LoginForm onSubmit={formSubmit}/>\n                        <span>If you haven't an account, please <Link to=\"/registration\" linkName='register' /></span>\n                    </>\n                }\n            </div>\n\n        </ElementNameHeader>\n    )\n}\n\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login\n    }\n}\n\n\nexport default connect (mapStateToProps, {login}) (Login);","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\n\nconst LoginRedirectTo = ({conditionU, path, orPath}) => {\n\n    return  (\n        <>\n            { conditionU ?\n                <>\n                    { path &&  <Redirect to={path} /> }\n                </>\n                : <Redirect to={orPath || '/login'} /> }\n        </>\n    )\n}\n\n\n\n\nexport default  LoginRedirectTo;","import {mediaAPI} from \"../../oosocial-api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nlet initialState = {\n    items: [],\n    totalCount: 0,\n    currentUploading: null\n}\n\nconst SET_PHOTOS = 'social-network/user-photos/SET_PHOTOS';\nconst SET_IMAGE_ORDER = 'social-network/user-photos/SET_IMAGE_ORDER';\n\nexport const imagesReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_PHOTOS:\n            return {\n                ...state, items: [...action.photos], totalCount: action.count\n            }\n        case SET_IMAGE_ORDER:\n            return {...state, currentUploading: action.order}\n        default:\n            return state;\n    }\n}\n\nconst setPhotos = (photos, count) => {return {type: SET_PHOTOS, photos, count}}\n\nexport const getPhotosRequest = (userId) => async (dispatch) => {\n        const response = await mediaAPI.getPhotos(userId);\n        if (response.data.items)\n            dispatch(setPhotos(response.data.items, response.data.totalCount))\n}\n\nconst setUploadingImageOrder = (order) => {return {type: SET_IMAGE_ORDER, order}}\n\nexport const uploadPhotosRequest = (photos) => async (dispatch, getState) => {\n    let i = 1;\n    for (const item of photos) {\n        dispatch(setUploadingImageOrder(i++))\n        const response = await mediaAPI.savePhoto(item)\n        if (response.data.resultCode === 0) {\n        } else {\n            //dispatch(stopSubmit(\"upload_image\", {_error: response.data.messages[0] || \"Image loading error\"}))\n        }\n    }\n    dispatch(setUploadingImageOrder(null))\n    const myId = getState().auth.myId\n    dispatch(getPhotosRequest(myId))\n}\n\n\n\n","import {createSelector} from \"reselect\";\r\n\r\nconst getPhotos = (state) => {\r\n    return state.photos.items;\r\n}\r\n\r\nexport const getPhotosCount = (state) => {\r\n    return state.photos.totalCount;\r\n}\r\n\r\nexport const getSortedImages = createSelector(getPhotos, getPhotosCount, (photos, count) => {\r\n\r\n        return photos;\r\n})","import React, {useEffect} from 'react';\r\n\r\nimport style from './Photos.module.css';\r\n\r\nimport FileUpload from \"../forms/FileUpload\";\r\nimport Button from \"../instruments/buttons/Button\";\r\nimport Link from \"../instruments/link/Link\";\r\n\r\n\r\nconst UploadPhotosPanel = ({fullName, userId, currentUploading, startUpload}) => {\r\n    const [totalUpload, setTotalUpload] = React.useState(0)\r\n\r\n    const handleFilesUpload = (event) => {\r\n        if (event.target.files.length) {\r\n            setTotalUpload(event.target.files.length)\r\n            startUpload(event.target.files);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.imagesControl}>\r\n            <div>\r\n                <Link to={\"/id\" + userId} linkName={fullName}/><b>{\" >> \"}</b>photos\r\n            </div>\r\n\r\n            {currentUploading ? <span>Uploading&nbsp;{currentUploading}&nbsp;of&nbsp;{totalUpload}</span> :\r\n\r\n                <div className={style.imagesControl__upload}>\r\n                    <Button isNonButton={true}>\r\n                        <FileUpload onUpload={handleFilesUpload} multiple={true}>Upload new photos</FileUpload>\r\n                    </Button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default UploadPhotosPanel;","import React, {useEffect} from 'react';\r\n\r\nimport style from './ModalPhoto.module.css';\r\n\r\nimport Link from \"../../instruments/link/Link\";\r\n\r\nconst ModalPhotoView = ({showSinglePhoto, isOwner, indexImg, imgCount, image}) => {\r\n\r\n    const date = (new Date(image.date)).toLocaleDateString(\"en-Us\")\r\n\r\n\r\n    return (\r\n    <div className={style.imageModal} onClick={showSinglePhoto.bind(null, null)} >\r\n        <div className={style.imageModal__body} onClick={(e) => e.stopPropagation()}>\r\n\r\n            <div className={style.imageModal_navigation}>\r\n                <div className={style.imageModal_menu__left}>\r\n                    <Link isDisabled={indexImg < 2} onClick={showSinglePhoto.bind(null, indexImg - 1)}\r\n                          linkName={\"<< Previous  \"}/>\r\n                </div>\r\n                <div className={style.imageModal_menu__center}>\r\n                    <Link  onClick={showSinglePhoto.bind(null, null)} linkName={\"Close\"}/>\r\n                </div>\r\n                <div className={style.imageModal_menu__right}>\r\n                    <Link isDisabled={indexImg === imgCount} onClick={showSinglePhoto.bind(null, indexImg + 1)} linkName={\"Next >>\"}/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={style.imageModal_imgContainer}>\r\n                <div className={style.imageModal_imgContainer__cell}>\r\n                    <img src={image.path}  />\r\n                </div>\r\n            </div>\r\n            <div className={style.imageModal_menu}>\r\n\r\n                {isOwner ?\r\n                    <ul className={style.imageModal_menu__left}>\r\n                        <li><Link linkName={\"Set as profile image\"}/></li>\r\n                        <li><Link linkName={\"Delete this image\"}/></li>\r\n                    </ul> :\r\n                    <div></div>}\r\n\r\n                <div className={style.imageModal_menu__left + \" \" + style.imageModal_menu__right}>\r\n                    <li>Uploaded {date}</li>\r\n                    <li><Link isExternal={true} to={image.path} linkName=\"Watch full image version\" /></li>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ModalPhotoView;","import React from 'react';\r\n\r\nimport style from './Photos.module.css';\r\n\r\nimport ElementNameHeader from \"../profile/element-name-header/ElementNameHeader\";\r\nimport UploadPhotosPanel from \"./UploadPhotosPanel\";\r\nimport ModalPhotoView from \"./modal-photo-view/ModalPhotoView\";\r\n\r\nconst Photos = (props) => {\r\n\r\n    const [indexImgModal, setImgModal] = React.useState(false)\r\n\r\n    const showSinglePhoto = (index) => {\r\n\r\n        setImgModal(index)\r\n    }\r\n\r\n    return (\r\n        <ElementNameHeader text={`id${props.userId} photos, total: ${props.totalCount}`}>\r\n            {props.isOwner &&\r\n                <UploadPhotosPanel userId={props.userId} fullName={props.fullName} currentUploading={props.currentUploading} startUpload={props.uploadPhotosRequest}/>\r\n            }\r\n            <div className={style.imagesPanel}>\r\n                {\r\n                    props.photos.map((photo, index) => {\r\n                        return <div className={style.image__preview} key={photo.id} onClick={showSinglePhoto.bind(null, index + 1)}>\r\n\r\n                            <img src={photo.preview} alt={`id ${props.userId} photo ${(index + 1)}`}/>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n            {indexImgModal &&\r\n            <ModalPhotoView image={props.photos[indexImgModal - 1]} isOwner={props.isOwner}\r\n                            imgCount={props.photos.length} indexImg={indexImgModal}\r\n                            showSinglePhoto={showSinglePhoto} />\r\n            }\r\n        </ElementNameHeader>\r\n    )\r\n}\r\nexport default Photos","import React, {useEffect} from 'react';\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nimport {getPhotosRequest, uploadPhotosRequest} from \"../../redux/reducers/images-reducer\";\r\nimport {getProfileRequest} from \"../../redux/reducers/profile-reducer\";\r\n\r\nimport {getPhotosCount, getSortedImages} from \"../../redux/selectors/photos-selector\";\r\nimport {getProfileFullName} from \"../../redux/selectors/profile-selector\";\r\n\r\nimport Photos from \"./Photos\";\r\n\r\nconst PhotosContainer = ({myId, getPhotosRequest, getProfileRequest, isAuth, ...props}) => {\r\n\r\n    useEffect(() => {handlePhotos()}, [props.match.params.userId])\r\n\r\n    const userId = props.match.params.userId ? props.match.params.userId : myId;\r\n\r\n    const handlePhotos = () => {\r\n        getProfileRequest(userId);\r\n        getPhotosRequest(userId);\r\n    }\r\n\r\n    return <Photos {...props} userId={userId} isOwner={isAuth && (userId === myId)} />\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        photos: getSortedImages(state),\r\n        totalCount: getPhotosCount(state),\r\n        myId: state.auth.myId,\r\n        isAuth: state.auth.isAuth,\r\n        currentUploading: state.photos.currentUploading,\r\n\r\n        fullName: getProfileFullName(state)\r\n    }\r\n}\r\n\r\nexport default compose(withRouter, connect(mapStateToProps, {getPhotosRequest, getProfileRequest, uploadPhotosRequest})) (PhotosContainer)","import React, {useEffect} from 'react';\nimport './App.css';\nimport {Route, withRouter} from \"react-router-dom\";\nimport {compose} from \"redux\";\nimport {connect} from \"react-redux\";\n\nimport {initApp} from \"./redux/reducers/init-reducer\";\n\nimport Header from \"./components/header/Header\";\nimport Preloader from \"./components/instruments/Preloader\";\n\nimport AlertsContainer from \"./components/sidebar/AlertsContainer\";\nimport Notes from \"./components/notes/Notes\";\nimport Login from \"./components/login-register/Login\";\nimport LoginRedirectTo from \"./components/login-register/LoginRedirectTo\";\nimport PhotosContainer from \"./components/photos/PhotosContainer\";\n\nconst ProfileContainer = React.lazy(() => import( \"./components/profile/ProfileContainer\"));\nconst Register = React.lazy(() => import( \"./components/login-register/Register\"));\nconst UsersContainer = React.lazy(() => import(\"./components/users/UsersContainer\"));\nconst FriendsContainer = React.lazy(() => import(\"./components/users/FriendsContainer\"));\n\nconst App = ({isInitialized, initApp, isAuth, myId}) => {\n\n    useEffect(() => initApp(), [isInitialized])\n    if (!isInitialized) return <Preloader/>\n    return (\n        <div className='main'>\n            <header className='pageHeader'>\n                <Header/>\n            </header>\n            <div className='sideBar'>\n                <AlertsContainer/>\n            </div>\n            <div className='pageBody'>\n\n                <Route exact path='/' render={() =>\n                    <LoginRedirectTo conditionU={isAuth} path={\"/id\" + myId} orPath={\"/login\"}/>\n                }/>\n                <Route exact path='/id:userId?' component={() => <React.Suspense fallback={<Preloader/>}>\n                    <ProfileContainer/>\n                </React.Suspense>}/>\n\n                <Route exact path='/edit' component={() => <>\n                    <LoginRedirectTo conditionU={isAuth}/>\n                    <React.Suspense fallback={<Preloader/>}>\n                        < ProfileContainer isEdit={true}/>\n                    </React.Suspense>\n                </>}\n                />\n\n                <Route path='/friends/:pageNo?' render={(props) => (\n                        <React.Suspense fallback={<Preloader/>}>\n                            <FriendsContainer/>\n                        </React.Suspense>\n                    )}/>\n                <Route path='/users/:pageNo?' render={(props) => (\n                    <React.Suspense fallback={<Preloader/>}>\n                        <UsersContainer/>\n                    </React.Suspense>\n                )}/>\n\n                <Route path='/photos:userId?' component={PhotosContainer}/>\n\n                <Route path='/notes' component={Notes}/>\n\n                <Route path='/login' component={Login}/>\n                <Route path='/registration' render={ ()=> (\n                    <React.Suspense fallback={<Preloader/>}>\n                        <Register/>\n                    </React.Suspense>\n                )}\n                        />\n\n\n            </div>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n           isInitialized: state.app.initialize,\n           isAuth: state.auth.isAuth,\n           myId: state.auth.myId\n    }\n}\n\nexport default compose( withRouter, connect(mapStateToProps, {initApp}) ) (App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let initialState = {\n    alerts: [ {name: 'Follows', count: 0 }, {name: 'Photos', count: 0},\n        {name: 'Music', count: 0 }, {name: 'Messages', count: 10}, {name: 'Notes', count: 0},\n        {name: 'Groups',  count: 0 }\n    ]}\n\nexport let requestsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        default: return state;\n    }\n\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nimport {reducer as formReducer} from \"redux-form\"\n\nimport {profileReducer} from \"./reducers/profile-reducer\";\nimport {requestsReducer} from \"./reducers/requests-reducer\";\nimport {imagesReducer} from \"./reducers/images-reducer\";\nimport {usersReducer} from \"./reducers/users-reducer\";\nimport {initReducer} from \"./reducers/init-reducer\";\nimport {authReducer} from \"./reducers/auth-reducer\";\n\n\nconst rootReducer = combineReducers({app: initReducer, profile: profileReducer, auth: authReducer, form: formReducer,\n                                            requests: requestsReducer, users: usersReducer, photos: imagesReducer})\n\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\n\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {authAPI} from \"../../oosocial-api/api\";\nimport {stopSubmit} from 'redux-form'\n\nlet initialState = {\n    myId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n\n    isNewUserRegistered: false\n}\n\nconst SET_AUTH = \"social-network/auth/SET_AUTH\"\nconst DELETE_AUTH = \"social-network/auth/DELETE_AUTH\"\nconst NEW_USER_REGISTER_SUCCESS = \"social-network/auth/NEW_USER_REGISTER_SUCCESS\"\n\nexport let authReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_AUTH:\n            return {...state, ...action.data, isAuth: true}\n        case DELETE_AUTH:\n            return {...initialState}\n        case NEW_USER_REGISTER_SUCCESS:\n            return {...state, isNewUserRegistered: true}\n        default:\n            return state;\n    }\n}\n\nlet setAuthParams = (myId, email, login) => { return {type: SET_AUTH, data: {myId, email, login}} }\nlet clearAuthParams = () => {return {type: DELETE_AUTH}}\n\n//инициализируем приложение, запрашиваем на сервере статус авторизации\nexport const getAuthRequest = () => async (dispatch) => {\n    let response = await authAPI.me()\n\n    if (response.data.resultCode === 0)\n    {\n        let {id, email, login} = response.data.data\n        dispatch(setAuthParams(id, email, login))\n    }\n    else dispatch(clearAuthParams())\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout()\n    if (response.data.resultCode === 0)\n    {\n        dispatch(clearAuthParams())\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe)\n\n    if (response.data.resultCode === 0)\n    {\n        dispatch(getAuthRequest())\n       // логинизация успешно выполнена\n    }\n    else\n    {\n        let err = (response.data.messages && (response.data.messages.length > 0) ? response.data.messages[0] : 'login error')\n        dispatch(stopSubmit('login', {_error: err}))\n    }\n}\n\nconst RegistrationSuccess = () => {return {type: NEW_USER_REGISTER_SUCCESS}}\n\n//(values.email, values.password, values.login, values.fullName)\nexport const register = (email, password, login, fullName) => async (dispatch) => {\n    let response = await authAPI.register(email, password, login, fullName)\n    if (response.data.resultCode === 0) {\n        debugger\n        dispatch(RegistrationSuccess());\n    }\n    else {\n        dispatch(stopSubmit(\"register\", {_error: response.data.messages[0] || \"Registration error\"}))\n    }\n\n    //register\n}\n\n","import React from \"react\";\n\nimport fetchingPic from \"../../media/3Bta.gif\"\n\nconst Preloader = () => {\nreturn <div>\n    <img src={fetchingPic} alt={'loading in process...'}/>\n</div>\n}\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBar__nav\":\"SideBar_sideBar__nav__4vp-t\",\"sideBar__profileLi\":\"SideBar_sideBar__profileLi__1qVVQ\",\"sideBar__nav__profile\":\"SideBar_sideBar__nav__profile__o5Ygo\",\"sideBar__nav__profile_edit\":\"SideBar_sideBar__nav__profile_edit__34URJ\",\"sideBar__navLi\":\"SideBar_sideBar__navLi__11uoV\"};","import React from \"react\";\n\nimport s from  './ElementNameHeader.module.css'\n\nconst ElementNameHeader = (props) => {\n    return (<div className={s.profileBorder}>\n        <div className={s.profileHeader}>{props.text}</div>\n        <div className={s.profileBorder__subBorder}>\n            {props.children}\n        </div>\n    </div>)\n}\n\nexport default ElementNameHeader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imagesPanel\":\"Photos_imagesPanel__1JHMY\",\"image__preview\":\"Photos_image__preview__2-6Wp\",\"imagesControl\":\"Photos_imagesControl__1I9vo\",\"imagesControl__upload\":\"Photos_imagesControl__upload__23Wy3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Link_navLink__dYPCG\",\"navLink__disabled\":\"Link_navLink__disabled__qvAc5\"};","import s from './Buttons.module.css';\nimport React from \"react\";\n\nconst Button = (props) => {\n        if (props.isNonButton)\n                return <label className={s.follow__button}>\n                        <span>{props.children}</span>\n                </label>\n        return <button className={s.follow__button} {...props}  onClick={props.onClick}> {props.children} </button>;\n\n}\nexport default Button;","export const required = value => {\r\n\r\n    if (value && value.length > 0) {\r\n        return undefined\r\n    }\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const minLength = (minlength) => (value) => {\r\n    if (value && value.length < minlength) {\r\n        return `field must consist more ${minlength} symbols`\r\n    }\r\n    return undefined\r\n}\r\n\r\n//оющая ошибка для формы с подтверждением пароля\r\nexport const validate = values => {\r\n\r\n    if ( values.password === values.password2)\r\n        return undefined\r\n    else\r\n        return {password2: 'Passwords confirm is not valid'}\r\n\r\n}","import {profileAPI} from '../../oosocial-api/api'\nimport {stopSubmit} from 'redux-form'\n\nlet initialState = {\n    user: {},\n    communities: ['community of people who promised himself go to sleep as soon as back from work',\n                    '====== PhYSiCaL fAcUlTy ArE bEsToFtHeBeStOfThEbEsTs!!!! =====',\n                    '&#9733;&#9733;&#9733; all new Films of 2008. Watch online! &#9733;&#9733;&#9733;',\n                    'only VIP'],\n    statusText: '',\n\n    profileUpdateFetching: false,\n\n    profileFetch: true\n    /*\n    posts: [\n        {text: 'post1', like: 1}, {text: 'post2', like: 2}\n    ]*/\n}\n\nconst SET_STATUS = 'social-network/user-profile/SET_STATUS'\nconst SET_PROFILE = 'social-network/user-profile/SET_PROFILE'\nconst SET_PHOTO = 'social-network/user-profile/SET_PHOTO'\n\nconst UPDATE_PROFILE_FETCHING = 'social-network/user-profile/UPDATE_PROFILE_FETCHING'\nconst GET_PROFILE_FETCH_TOGGLE = 'social-network/user-profile/GET_PROFILE_FETCH_TOGGLE'\n\nexport let profileReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_PROFILE:\n            return {...state, user: action.userProfile}\n\n        case SET_STATUS:\n            return {...state, statusText: action.statusText}\n        case SET_PHOTO:\n            let newState = {...state, user: {...state.user, photos: action.photos}}\n            return newState\n        case UPDATE_PROFILE_FETCHING:\n            return {...state, profileUpdateFetching: action.isFetching}\n\n        case GET_PROFILE_FETCH_TOGGLE:\n            console.log(action.isFetching)\n            return {...state, profileFetch: action.isFetching}\n        default:\n            return state;\n    }\n}\n\nconst setStatus = (statusText) => { return {type: SET_STATUS, statusText} }\n\nconst setProfile = (userProfile) => { return {type: SET_PROFILE, userProfile} }\n\nconst uploadPhotoSuccess = (photos) => { return {type: SET_PHOTO, photos} }\n\nconst uploadProfileFetching = (isFetching) => { return {type: UPDATE_PROFILE_FETCHING, isFetching} }\n\n\nconst getProfileFetch = (isFetching) => {return {type: GET_PROFILE_FETCH_TOGGLE, isFetching}}\n//тестовый вариант санккриэйтора для локальной БД\nexport const getProfileRequest = (id) => async (dispatch) => {\n    dispatch(getProfileFetch(true))\n    const response = await profileAPI.getUserProfile(id)\n\n    if (response.data)\n    {\n        dispatch(setProfile(response.data))\n        dispatch(getProfileFetch(false))\n    }\n}\n\n\nexport const setStatusRequest = (statusText) => async (dispatch) => {\n    const response = await profileAPI.setStatus(statusText)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(statusText))\n    }\n}\n\nexport const getStatusRequest = (id) => async (dispatch) => {\n    const response = await profileAPI.getStatus(id)\n        dispatch(setStatus(response.data))\n}\n\n\nexport const uploadProfile = (profile) => async (dispatch, getState) => {\n    //get current user id in state for loading my new profile page\n    const myId = getState().auth.myId\n    dispatch(uploadProfileFetching(true))\n    const response = await  profileAPI.setProfile(profile)\n    if (response.data.resultCode === 0)\n    {\n        //alert(getContactError(\"Invalid url format (Contacts->Facebook)\"))\n        dispatch(getProfileRequest(myId))\n        dispatch(uploadProfileFetching(false))\n    }\n    else {\n        //parse error message to get info about current field\n        let errMessage = (response.data.messages && (response.data.messages.length > 0)) ? response.data.messages[0] : 'update profile error'\n        let contactError = getContactError(errMessage)\n        if (contactError)\n        {\n            const submitERROR = JSON.parse(`{\"${contactError}\":\"${errMessage}\"}`)\n            //dispatch(stopSubmit('updateProfile', submitERROR))\n            dispatch(stopSubmit('updateProfile', {\"contacts\": submitERROR}))\n        }\n        else\n            dispatch(stopSubmit('updateProfile', {_error: errMessage}))\n    }\n}\n\n\n//parse error message while form update\nconst getContactError = (message) => {\n    let contactsPos = -1\n    contactsPos  = message.indexOf('Contacts->')\n    if (contactsPos > 0)\n    {\n        let result = message.slice(contactsPos + 10)\n        result = result.slice(0, result.indexOf(')'))\n        if (result.length > 1)\n            return result.toLowerCase()\n    }\n    return null\n}\n\nexport const uploadPhoto = (photo) => async (dispatch) => {\n    const response = await profileAPI.savePhoto(photo)\n\n    if (response.data.resultCode === 0) {\n        dispatch(uploadPhotoSuccess(response.data.photos))\n    }\n    else\n    {\n        dispatch(stopSubmit(\"upload_image\", {_error: response.data.messages[0] || \"Image loading error\"}))\n    }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileHeader\":\"ElementNameHeader_profileHeader__2z4fU\",\"profileBorder\":\"ElementNameHeader_profileBorder__LZK2W\",\"profileBorder__subBorder\":\"ElementNameHeader_profileBorder__subBorder__NTq6q\"};","import React from 'react';\n\nimport s from  '../Forms.module.css'\n\n//отделить св-во инпута для передачи дальше в redux-form\nconst TextBox = ({meta, input, label, multiline, ...props}) => {\n    let isError = meta.touched && meta.error\n    return (\n        <div>\n            {label && <div className={s.formLabel}>{label}</div> }\n\n            {!!multiline ? <textarea {...input} {...props} /> :\n                <input {...input} {...props}  /> }\n            {isError && <div className={s.formError}>{meta.error}</div> }\n        </div>\n    )}\nexport default TextBox","// extracted by mini-css-extract-plugin\nmodule.exports = {\"follow__button\":\"Buttons_follow__button__3x7cz\"};","import * as axios from 'axios'\r\n\r\n//настройка подключения к удалённому серверу\r\n/*\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BASE_URL_SAMURAI,\r\n    withCredentials: true,\r\n    headers: {'API-KEY': process.env.REACT_APP_API_KEY_SAMURAI}\r\n});\r\n*/\r\n\r\n//настройка подключения к локальному серверу\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BASE_URL_DEV,\r\n    withCredentials: true\r\n});\r\n\r\nconst savePhotoSingle = (route, photo) => {\r\n    const formData = new FormData()\r\n    formData.append('image', photo)\r\n    return instance.put(route, formData, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n\r\n    getByPage(page = 1) {\r\n        return instance.get('users?page=' + page);\r\n    },\r\n\r\n    follow(id) {\r\n        return instance.post('follow/' + id)\r\n    },\r\n\r\n    unfollow(id) {\r\n        return instance.delete('follow/' + id)\r\n    },\r\n\r\n    getFriends(page = 1) {\r\n        return instance.get('friends?page=' + page);\r\n    },\r\n\r\n    getFriendsById(page = 1, id) {\r\n        return instance.get(`friends?page=${page}&id= ${id}`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getStatus(id) {\r\n        return instance.get('profile/status/' + id)\r\n    },\r\n\r\n    setStatus(statusText) {\r\n        return instance.put('profile/status/', {status: statusText})\r\n    },\r\n\r\n    getUserProfile(id) {\r\n        return instance.get('profile/' + id)\r\n    },\r\n\r\n    setProfile(profile) {\r\n        return instance.put('profile/', profile)\r\n    },\r\n\r\n    savePhoto(photo) {\r\n        return savePhotoSingle('profile/photo/', photo)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    },\r\n\r\n    login(email, password, rememberMe) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    register(email, password, login, fullName) {\r\n        return instance.post('auth/register', {email, password, login, fullName})\r\n    }\r\n}\r\n\r\n\r\nexport const mediaAPI = {\r\n    getPhotos(id) {\r\n        return instance.get('/photos?id=' + id)\r\n    },\r\n\r\n    savePhoto(photo) {\r\n        return savePhotoSingle('photo/', photo)\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__282rX\",\"searchBar__text\":\"SearchBar_searchBar__text__2vTfY\"};"],"sourceRoot":""}