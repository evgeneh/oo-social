(window["webpackJsonpold-ontach"]=window["webpackJsonpold-ontach"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c});var r=n(33),a=n(37),o=function(e){return e.photos.items},i=function(e){return e.photos.totalCount},u=Object(r.a)(o,i,function(e,t){return a.a.sortBy(e,"date",!0)}),c=Object(r.a)(o,function(e){return a.a.getSomeRandom(e,2)})},107:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var r=n(10),a=n(0),o=n.n(a);function i(){var e=Object(r.a)(["\n    color:grey\n"]);return i=function(){return e},e}var u=n(11).a.span(i()),c=function(e){return e.split("\n").map(function(e,t){return 0===t?e:[o.a.createElement("br",{key:t}),e]})}},112:function(e,t,n){e.exports={searchBar:"SearchBar_searchBar__282rX",searchBar__text:"SearchBar_searchBar__text__2vTfY"}},115:function(e,t,n){"use strict";var r=n(116),a=n(117),o=n(119),i=n(118),u=n(120),c=n(0),s=n.n(c),l=n(67),d=n.n(l);t.a=function(e){return function(t){function n(e){var t;return Object(r.a)(this,n),(t=Object(o.a)(this,Object(i.a)(n).call(this,e))).toggleBadge=function(){t.setState({isOpen:!t.state.isOpen})},t.state={isOpen:!0},t}return Object(u.a)(n,t),Object(a.a)(n,[{key:"render",value:function(){return this.state.isOpen?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:d.a.badgeProfile__header+" "+d.a.badgeProfile__header_open,onClick:this.toggleBadge},s.a.createElement("h2",null,this.props.text," ")),s.a.createElement(e,this.props)):s.a.createElement("div",{className:d.a.badgeProfile__header+" "+d.a.badgeProfile__header_roll,onClick:this.toggleBadge},s.a.createElement("h2",null,this.props.text,s.a.createElement("span",null,this.props.count?" ("+this.props.count+")":"")))}}]),n}(s.a.Component)}},121:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(33),a=n(37),o=function(e){return e.users.isToggling},i=Object(r.a)(function(e){return e.users.friends},function(e){return{profiles:a.a.getSomeRandom(e.profiles,4),totalCount:e.totalCount}})},122:function(e,t,n){"use strict";var r=n(10),a=n(0),o=n.n(a),i=n(13),u=n(11);function c(){var e=Object(r.a)(["\n    text-align: right;\n    float: right;\n"]);return c=function(){return e},e}function s(){var e=Object(r.a)(["\n    text-align: left;\n    padding: 2px 8px 2px 8px;\n    border-top: solid 1px #ccc;\n    background: #eee;\n    margin-bottom: 2px;\n"]);return s=function(){return e},e}var l=u.a.div(s()),d=u.a.div(c());t.a=function(e){var t=e.count,n=e.name,r=e.link,a=e.children,u=t+" "+n,c=void 0===a?o.a.createElement(i.a,{to:r,linkName:"All"}):a;return o.a.createElement(l,null,o.a.createElement(i.a,{to:r,linkName:u}),o.a.createElement(d,null,c))}},13:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),i=n(58),u=n.n(i);t.a=function(e){var t=e.to,n=e.linkName,r=e.isExternal,i=e.onClick;if(e.isDisabled)return a.a.createElement("span",{className:u.a.navLink+" "+u.a.navLink__disabled},n);if(!t)return a.a.createElement("span",{className:u.a.navLink,onClick:i},n);if(r){var c=t;return t.indexOf("https://")<0&&t.indexOf("localhost:")<0&&(c="https://"+t),a.a.createElement("a",{target:"_blank",className:u.a.navLink,href:c,onClick:i},n)}return a.a.createElement(o.b,{className:u.a.navLink,to:t,onClick:i},n)}},154:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d});var r=n(16),a=n(33),o=n(121);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=function(e){return e.profile.user},c=function(e){return e.profile.user.fullName},s=Object(a.a)(o.b,function(e){return e.profile.user.userId},function(e,t){return e.some(function(e){return e===t})}),l=Object(a.a)(u,function(e){return e.profile.isProfileFollow},function(e){return e.auth.myId},function(e,t,n){var a=t;return e.userId&&n&&n!==e.userId||(a=!1),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isFollow:a})}),d=Object(a.a)(u,function(e){if(!e.userId)return null;var t=1,n=1;return e.aboutMe&&t++,n++,e.photos.large&&t++,n++,Object.keys(e.contacts).forEach(function(r){e.contacts[r]&&t++,n++}),Math.trunc(100*t/n)})},155:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(17),i=n.n(o),u=n(109);t.a=Object(u.a)({form:"upload_image"})(function(e){return a.a.createElement(a.a.Fragment,null,e.error,a.a.createElement("label",{htmlFor:"file",className:i.a.fileUpload},a.a.createElement("input",{type:"file",name:"file",id:"file",onChange:e.onUpload,multiple:!!e.multiple}),e.children))})},156:function(e,t,n){e.exports={userStatus:"UserStatus_userStatus__tuLty",userStatus__lastUpdate:"UserStatus_userStatus__lastUpdate__3pUHQ"}},157:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(33),a=function(e){return e.wall.posts},o=Object(r.a)(a,function(e){return e.slice(0,10)})},159:function(e,t,n){"use strict";var r=n(31),a=n(0),o=n.n(a),i=n(13),u=n(115),c=n(122),s=n(10),l=n(156),d=n.n(l),f=n(11),m=n(43);function p(){var e=Object(s.a)(["\n    padding: 2px 5px;\n    border-bottom: solid 1px #DAE1E8;\n    font-size: 88%\n"]);return p=function(){return e},e}function g(){var e=Object(s.a)(["\n    white-space: pre;\n    line-height: 1.3;\n    padding: 5px;\n    margin: 0 2px;\n"]);return g=function(){return e},e}function h(){var e=Object(s.a)(["\n    background: #eee;\n    padding: 5px;\n    border-top: 1px solid  #45688E;\n    border-bottom: 1px solid #ccc;\n"]);return h=function(){return e},e}function b(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 50px 1fr;\n    grid-gap: 5px;\n    padding: 10px 5px;\n"]);return b=function(){return e},e}var _=f.a.div(b()),v=f.a.div(h()),E=f.a.p(g()),O=f.a.div(p()),w=function(e){var t=e.post,n=m.b.toStrings(t.date);return o.a.createElement(_,null,o.a.createElement("div",null,o.a.createElement("img",{src:t.owner.photo,alt:t.owner.fullName+" photo",width:50})),o.a.createElement("div",null,o.a.createElement(v,null,o.a.createElement("b",null,o.a.createElement(i.a,{to:"/id"+t.owner.userId,linkName:t.owner.fullName})),"\xa0posts at ",o.a.createElement("br",null),o.a.createElement("div",{className:d.a.userStatus__lastUpdate},n)),o.a.createElement(E,null,t.text),o.a.createElement(O,null,o.a.createElement(i.a,{to:"/wall?id="+t.owner.userId,linkName:"Write on this user's wall"}),"\xa0 \u2013 \xa0",o.a.createElement(i.a,{to:"/dialog?id="+t.owner.userId,linkName:"Send private message"}))))},y=n(86),A=n(109),j=Object(A.a)({form:"wallMessage"})(y.a);t.a=Object(u.a)(function(e){var t=e.posts,n=e.count,u=e.pageId,s=e.addPost,l=Object(a.useState)(!1),d=Object(r.a)(l,2),f=d[0],m=d[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{count:n,name:1===n?"post":"posts",link:"/wall"+u},o.a.createElement(i.a,{onClick:function(){return m(!0)},linkName:"Write New Post"})),f&&o.a.createElement(j,{onSubmit:function(e){s(u,e.text),m(!1)}}),t.map(function(e){return o.a.createElement(w,{key:e.postId,post:e})}))})},163:function(e,t,n){e.exports=n.p+"static/media/menu.cde1b89d.JPG"},167:function(e,t){e.exports="data:image/gif;base64,R0lGODlh4AGgAPMAANra2uPj49LS0szMzMDAwN7e3ubm5u7u7tzc3Le3t6qqqrGxsQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA4AGgAAAE//DISau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyyWw6n9CodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo0dKBrIMCAhg4CM3AwQEIAhgUhuAAQAkGCjQEpsBBBRI1rRWgOaEkDt5ljxgQGfQaiQD+DxaLeRQplCjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz6BDix5NurTp06hTq17NurXr17Bjy55Nu7bt27hz697N21MEACH5BAUKAAcALOwATAAGAAUAAAMNeKqiI4IUUFQwYR2sEwAh+QQFCgAFACzsAEwACAAEAAADDnhnUO5HyGFqCAqQat5LACH5BAUKAAMALO4ATAAGAAUAAAQP8BQDjixoaKO7F4JlIUEEACH5BAUKAAYALO8ATAAFAAYAAAMMGFbWBc2NSJuIgYgEACH5BAUKAAUALO8ATAAFAAgAAAQT0JhwTgio1iCK98AnAsNHGJ90RAAh+QQFCgADACzvAEwABQAIAAAEFNDIQU04+JiST+EYYlAUgAhkgFIRACH5BAUKAAcALO4ATwAGAAUAAAMOeHphyyaoAgoRYijxTgIAIfkEBQoABQAs7ABQAAgABAAAAw5YutYE54TQzBD4LAVMTAAh+QQFCgADACzsAE8ABgAFAAAEDzCAQ48QI2ttNCoFBRhhBAAh+QQFCgAHACzsAE4ABQAGAAADDSgU19IwjhJBYKcYkwAAIfkEBQoABQAs7ABMAAQACAAAAw54ZlVGbYBGJxXh6GD0SgA7"},17:function(e,t,n){e.exports={formError:"Forms_formError__2GCsO",formLabel:"Forms_formLabel__17iSg",loginInput:"Forms_loginInput__3eemh",loginInput__profile:"Forms_loginInput__profile__2aanO",formBlock:"Forms_formBlock__URM1_",formBlock__inputs:"Forms_formBlock__inputs__2hI75",formBlock__events_cancel:"Forms_formBlock__events_cancel__3kERQ",loginButton:"Forms_loginButton__3TscP",loginButton_left:"Forms_loginButton_left__2C3b0",loginButton__unshifted:"Forms_loginButton__unshifted__3N5HH",labeledCB:"Forms_labeledCB__3X_hy",fileUpload:"Forms_fileUpload__FAlo1"}},196:function(e,t,n){e.exports=n(322)},201:function(e,t,n){},202:function(e,t,n){},24:function(e,t,n){e.exports={imageModal:"ModalPhoto_imageModal__3ejYO",imageModal__body:"ModalPhoto_imageModal__body__10_9l",imageModal_imgContainer:"ModalPhoto_imageModal_imgContainer__2XOTr",imageModal_imgContainer__cell:"ModalPhoto_imageModal_imgContainer__cell__nqimn",imageModal_navigation:"ModalPhoto_imageModal_navigation__otHRh",imageModal_menu__left:"ModalPhoto_imageModal_menu__left__1gXQu",imageModal_menu__center:"ModalPhoto_imageModal_menu__center__29ibg",imageModal_menu__right:"ModalPhoto_imageModal_menu__right__1vs-d",imageModal_menu:"ModalPhoto_imageModal_menu__3OgMI"}},27:function(e,t,n){e.exports={pageHeader:"Header_pageHeader__3Udyi",pageHeader__border:"Header_pageHeader__border__I3SCx",home:"Header_home__7l_p7",menuHidden:"Header_menuHidden__2oUvy",home__logo:"Header_home__logo__1xbfD",searchBar:"Header_searchBar__3Wm36",menuBar:"Header_menuBar__3oi9C",menuBar__item:"Header_menuBar__item__Lo7WW"}},322:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(77),i=n.n(o),u=(n(201),n(202),n(45)),c=n(8),s=n(14),l=n(16),d=n(40);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={initialize:!1},g="social-network/init/SET_INITIALIZE",h=n(15),b=n(27),_=n.n(b),v=function(e){return a.a.createElement("ul",{className:_.a.menuBar},e.isAuth?a.a.createElement("li",{className:_.a.menuBar__item,key:"logout"},a.a.createElement("span",{onClick:function(){e.logout()}},"logout")):a.a.createElement("li",{className:_.a.menuBar__item,key:"login"},a.a.createElement(h.b,{to:"/login"},"login")," "),[{name:"events",path:"/events"},{name:"communities",path:"/communities"},{name:"users",path:"/users"}].map(function(e){return a.a.createElement("li",{className:_.a.menuBar__item,key:e.name},a.a.createElement(h.b,{to:e.path},e.name))}))},E=n(112),O=n.n(E),w=function(){return a.a.createElement("form",{className:O.a.searchBar,method:"get"},a.a.createElement("input",{className:O.a.searchBar__text,placeholder:"Search"}))},y=n(31),A=n(10),j=n(163),P=n.n(j),x=n(11),k=n(52),S=n.n(k),C=function(e){var t=e.item.count>0?a.a.createElement("span",{style:{flexDirection:"row"}}," (",a.a.createElement("span",{style:{fontWeight:"bold"}},e.item.count),")"):"";return a.a.createElement("li",{className:S.a.sideBar__navLi},a.a.createElement(h.b,{to:"/"+e.item.name.toLowerCase()}," ","My "+e.item.name,t))},I=function(e){var t=e.myId?"/id"+e.myId:"";return a.a.createElement("ol",{className:S.a.sideBar__nav},a.a.createElement("li",{className:S.a.sideBar__profileLi},a.a.createElement(h.b,{to:t,className:S.a.sideBar__nav__profile}," My Profile "),a.a.createElement(h.b,{to:"/edit",className:S.a.sideBar__nav__profile_edit}," ed. ")),e.alerts.map(function(e){return a.a.createElement(C,{item:e,key:e.name})}),a.a.createElement("li",{className:S.a.sideBar__navLi},a.a.createElement(h.b,{to:"/settings"},"My Settings")))},N=Object(s.b)(function(e){return{alerts:e.requests.alerts,myId:e.auth.myId}},{})(I);function B(){var e=Object(A.a)(["\n     position: fixed;\n     background: white;\n     display: block;\n     padding: 5px;\n     top: 46px;\n     left: 5px;\n     width: 118px;\n     box-shadow: 5px 5px 5px -2px rgba(0, 0, 0, .2);\n"]);return B=function(){return e},e}function D(){var e=Object(A.a)(["\n    position: fixed;\n    top: 45px;\n    background: transparent;\n    width: 100%;\n    height: 100%;\n"]);return D=function(){return e},e}var M=x.a.div(D()),F=x.a.div(B()),T=function(){var e=Object(r.useState)(!1),t=Object(y.a)(e,2),n=t[0],o=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:_.a.menuHidden},a.a.createElement("img",{src:P.a,width:"21px",onMouseUp:function(){o(!n)}})),n&&a.a.createElement(M,{onClick:function(){o(!1)}},a.a.createElement(F,null,a.a.createElement(N,null))))},L=Object(s.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:d.d})(function(e){var t=e.isAuth,n=e.login,r=e.logout;return a.a.createElement("div",{className:_.a.pageHeader},a.a.createElement("div",{className:_.a.pageHeader__border},a.a.createElement(T,null),a.a.createElement("h1",{className:_.a.home},t&&a.a.createElement(h.b,{className:_.a.home__logo,to:"/"}," ",n," ")),a.a.createElement("div",{className:_.a.searchBar},a.a.createElement(w,null)),a.a.createElement(v,{isAuth:t,logout:r})))}),U=n(49),H=n(36),R=function(e){return a.a.createElement(H.a,{text:"my notes"})},G=Object(s.b)("",{})(function(e){Object(r.useEffect)(function(){t()},[]);var t=function(){};return a.a.createElement(R,null)}),q=n(29),Q=n(68),z=n(17),W=n.n(z),Y=n(108),K=n(109),J=n(78),V=n(59),Z=n(48),X=function(e){e.meta;var t=e.input,n=e.label,r=e.reverse,o=Object(q.a)(e,["meta","input","label","reverse"]),i=n||"";return a.a.createElement("div",{className:W.a.labeledCB},r&&a.a.createElement("label",{htmlFor:"rememberMe"},i),a.a.createElement("input",Object.assign({},t,o,{type:"checkbox"})),!r&&a.a.createElement("label",{htmlFor:"rememberMe"},i))},$=Object(J.a)(4),ee=Object(K.a)({form:"login"})(function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit,className:W.a.formBlock__inputs},e.error&&a.a.createElement("div",{className:W.a.formError}," ",e.error," "),a.a.createElement("div",{className:W.a.loginInput},a.a.createElement(Y.a,{name:"email",placeholder:"Email",label:"Email:",component:V.a,validate:[J.b]})),a.a.createElement("div",{className:W.a.loginInput},a.a.createElement(Y.a,{name:"password",placeholder:"Your password",label:"Password:",component:V.a,type:"password",validate:[J.b,$]})),a.a.createElement("div",null,a.a.createElement(Y.a,{name:"rememberMe",component:X,label:"Remember me",reverse:!0}),a.a.createElement("div",{className:W.a.loginButton+" "+W.a.loginButton_left},a.a.createElement(h.b,{to:"/registration"},a.a.createElement(Z.a,{type:"button",disabled:e.submit},"Register"))),a.a.createElement("div",{className:W.a.loginButton},a.a.createElement(Z.a,{type:"submit",disabled:e.submit},"Login"))))}),te=n(13),ne=n(85),re=function(e){e.isAuth&&e.previousLocation&&"/login"!==e.previousLocation&&e.history.push(e.previousLocation);return a.a.createElement(H.a,{text:"login"},a.a.createElement("div",{className:W.a.formBlock},e.isAuth?a.a.createElement(ne.a,null,"You have an account and you need to logout first"):a.a.createElement(a.a.Fragment,null,e.children,a.a.createElement(ee,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}),a.a.createElement(ne.a,null,"If you haven't an account, please ",a.a.createElement(te.a,{to:"/registration",linkName:"register"})))))},ae=Object(s.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,previousLocation:e.auth.previousLocation,totalCount:e.users.totalCount,isFetching:e.users.isFetching}},{login:d.c,getUsers:Q.e})(function(e){var t=e.isFetching,n=e.totalCount,r=e.getUsers,o=Object(q.a)(e,["isFetching","totalCount","getUsers"]);return a.a.useEffect(function(){var e;return o.isAuth?clearInterval(e):e=setInterval(function(){t||r(1)},1e3),function(){return clearInterval(e)}},[o.isAuth,r]),a.a.createElement(re,o," ",a.a.createElement(ne.b,{count:n+1}))}),oe=function(e){var t=e.conditionU,n=e.path,r=e.orPath;return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(u.a,{to:n})):a.a.createElement(u.a,{to:r||"/login"}))},ie=n(44),ue=n(80),ce=n(106),se=n(154),le=n(51),de=n.n(le),fe=n(155),me=function(e){var t=e.fullName,n=e.userId,r=e.currentUploading,o=e.startUpload,i=a.a.useState(0),u=Object(y.a)(i,2),c=u[0],s=u[1];return a.a.createElement("div",{className:de.a.imagesControl},a.a.createElement("div",{className:de.a.imagesControl__navigation},a.a.createElement(te.a,{to:"/id"+n,linkName:t}),a.a.createElement("b",null," >> "),"photos"),r?a.a.createElement("h2",null,"...uploading\xa0",r,"\xa0of\xa0",c):a.a.createElement("div",{className:de.a.imagesControl__upload},a.a.createElement(Z.a,{isNonButton:!0},a.a.createElement(fe.a,{onUpload:function(e){e.target.files.length&&(s(e.target.files.length),o(e.target.files))},multiple:!0},"Upload new photos"))))},pe=n(24),ge=n.n(pe),he=function(e){var t=e.showSinglePhoto,n=e.children,r=e.indexImg,o=e.imgCount,i=e.path;return a.a.createElement("div",{className:ge.a.imageModal,onClick:t.bind(null,null)},a.a.createElement("div",{className:ge.a.imageModal__body,onClick:function(e){return e.stopPropagation()}},a.a.createElement("div",{className:ge.a.imageModal_navigation},a.a.createElement("div",{className:ge.a.imageModal_menu__left},a.a.createElement(te.a,{isDisabled:r<2,onClick:t.bind(null,r-1),linkName:"<< Previous  "})),a.a.createElement("div",{className:ge.a.imageModal_menu__center},a.a.createElement(te.a,{onClick:t.bind(null,null),linkName:"Close"})),a.a.createElement("div",{className:ge.a.imageModal_menu__right},a.a.createElement(te.a,{isDisabled:r===o,onClick:t.bind(null,r+1),linkName:"Next >>"}))),a.a.createElement("div",{className:ge.a.imageModal_imgContainer},a.a.createElement("div",{className:ge.a.imageModal_imgContainer__cell},a.a.createElement("img",{src:i}))),n))},be=n(43),_e=function(e){var t=e.isOwner,n=e.image,o=e.setAsProfile,i=e.isDisabled,u=e.deletePhoto,c=e.setDescriptionReq,s=Object(r.useState)(!1),l=Object(y.a)(s,2),d=l[0],f=l[1],m=Object(r.useState)(n.description),p=Object(y.a)(m,2),g=p[0],h=p[1];Object(r.useEffect)(function(){h(n.description)},[n.description]);var b=be.b.toNumbers(n.date);return a.a.createElement("div",{className:ge.a.imageModal_menu},t?a.a.createElement("ul",{className:ge.a.imageModal_menu__left},a.a.createElement("li",{key:"ci"},a.a.createElement(te.a,{isDisabled:i,onClick:function(){f(!0)},linkName:"Change image description"})),a.a.createElement("li",{key:"si"},a.a.createElement(te.a,{isDisabled:i,onClick:function(){o(n.id)},linkName:"Set as profile image"})),a.a.createElement("li",{key:"di"},a.a.createElement(te.a,{isDisabled:i,onClick:function(){u(n.id)},linkName:"Delete this image"}))):a.a.createElement("div",null),a.a.createElement("div",{className:ge.a.imageModal_menu__left+" "+ge.a.imageModal_menu__right},a.a.createElement("li",{key:"Description edit"},d?a.a.createElement("input",{autoFocus:!0,placeholder:"Add description",value:g,onChange:function(e){console.log(e.target.value),h(e.target.value),console.log("setImgDescription:  "+g)},onBlur:function(){console.log("send "+g),c(n.id,g),f(!1)}}):a.a.createElement("span",null,n.description)),a.a.createElement("li",{key:"Photo date"},"Uploaded ",b),a.a.createElement("li",{key:"full version"},a.a.createElement(te.a,{isExternal:!0,to:n.path,linkName:"Watch full image version"}))))},ve=function(e){var t=a.a.useState(!1),n=Object(y.a)(t,2),r=n[0],o=n[1],i=function(t){t>e.photos.length?o(1):o(t)},u=function(){var t=r;return t<1&&(t=1),t>e.photos.length&&(t=e.photos.length),e.photos[t-1]};return a.a.createElement(H.a,{text:"id".concat(e.userId," photos, total: ").concat(e.totalCount)},e.isOwner&&a.a.createElement(me,{userId:e.userId,fullName:e.fullName,currentUploading:e.currentUploading,startUpload:e.uploadPhotosRequest}),a.a.createElement("div",{className:de.a.imagesPanel},e.photos.map(function(t,n){return a.a.createElement("div",{className:de.a.image__preview,key:t.id,onClick:i.bind(null,n+1)},a.a.createElement("img",{key:t.id,src:t.preview,alt:"id ".concat(e.userId," photo ").concat(n+1)}))})),r&&!!e.photos.length&&a.a.createElement(he,{imgCount:e.photos.length,path:u().path,showSinglePhoto:i,indexImg:r},a.a.createElement(_e,{image:u(),isOwner:e.isOwner,deletePhoto:e.deletePhoto,setAsProfile:e.setImageAsProfilePhoto,isDisabled:e.isProfilePhotoSet,setDescriptionReq:e.updateImageDescription})))},Ee=Object(c.d)(u.f,Object(s.b)(function(e){return{photos:Object(ce.c)(e),totalCount:Object(ce.a)(e),myId:e.auth.myId,isAuth:e.auth.isAuth,currentUploading:e.photos.currentUploading,isProfilePhotoSet:e.photos.isProfilePhotoSet,fullName:Object(se.c)(e)}},{getPhotosRequest:ie.b,getProfileRequest:ue.a,uploadPhotosRequest:ie.f,setImageAsProfilePhoto:ie.d,deletePhoto:ie.a,updateImageDescription:ie.e}))(function(e){var t=e.myId,n=e.getPhotosRequest,o=e.getProfileRequest,i=e.isAuth,u=Object(q.a)(e,["myId","getPhotosRequest","getProfileRequest","isAuth"]);Object(r.useEffect)(function(){s()},[u.match.params.userId]);var c=u.match.params.userId?u.match.params.userId:t,s=function(){o(c),n(c)};return a.a.createElement(ve,Object.assign({},u,{userId:c,isOwner:i&&parseInt(c)===parseInt(t)}))});function Oe(){var e=Object(A.a)(["\n    grid-area: f;\n    text-align: center;\n    padding: 20px 10px;\n    height: auto;\n    display: table-cell;\n    vertical-align: bottom;\n"]);return Oe=function(){return e},e}var we=x.a.div(Oe()),ye=function(){return a.a.createElement(we,null,a.a.createElement(te.a,{to:"https://github.com/evgeneh",isExternal:!0,linkName:"@evgeneh"}),a.a.createElement("small",null," 2019 "))},Ae=n(159),je=n(157),Pe=n(57),xe=Object(c.d)(u.f,Object(s.b)(function(e){return{posts:Object(je.b)(e),postsCount:e.wall.totalCount,isAuth:e.auth.isAuth,myId:e.auth.myId}},{AddNewPostRequest:Pe.a,getWallRequest:Pe.b}))(function(e){var t=e.match,n=e.myId,o=Object(q.a)(e,["match","myId"]),i=t.params.userId?t.params.userId:n;return Object(r.useEffect)(function(){Object(Pe.b)(i)},[t.params.userId,parseInt(i)]),a.a.createElement(H.a,{text:"id"+i+" wall"},a.a.createElement(Ae.a,{text:"Wall",isAuth:o.isAuth,pageId:i,posts:o.posts,count:o.postsCount,addPost:o.AddNewPostRequest}))}),ke=n(23),Se=n(107),Ce=n(86);function Ie(){var e=Object(A.a)(["\n        word-break: break-word;\n        padding: 3px 7px;\n        border-radius: 3px;\n        background: white;  \n        max-width:80%;                 \n    \n"]);return Ie=function(){return e},e}function Ne(){var e=Object(A.a)(["\n    padding-top: 5px;\n    align-items: center;\n    justify-content: center;\n"]);return Ne=function(){return e},e}function Be(){var e=Object(A.a)(["\n    display: flex;\n    padding: 5px 0;\n    width 100%;\n    text-align: ",";    \n    \n    justify-content: ",";    \n    -webkit-justify-content: ",";  \n    small {\n        color: grey;\n    }\n    \n"]);return Be=function(){return e},e}function De(){var e=Object(A.a)(["\n    list-style: none;    \n    margin: 0;\n    width: 1fr;\n    padding: 10px;\n    background:  #DAE1E8;\n\n"]);return De=function(){return e},e}function Me(){var e=Object(A.a)(["    \n    overflow-y: auto;\n"]);return Me=function(){return e},e}function Fe(){var e=Object(A.a)(["\n    height: 80vh;\n    display: grid;    \n    padding: 10px;\n    grid-template-rows: 1fr auto 100px;\n    section {\n        background: #DAE1E8;   \n    }\n"]);return Fe=function(){return e},e}var Te=x.a.div(Fe()),Le=x.a.div(Me()),Ue=x.a.ol(De()),He=x.a.li(Be(),function(e){return e.myPost?"right":"left"},function(e){return e.myPost?"right":"left"},function(e){return e.myPost?"flex-end":"flex-start"}),Re=x.a.li(Ne()),Ge=x.a.div(Ie()),qe=Object(K.a)({form:"dialogMessage"})(Ce.a),Qe=function(e){var t=e.messages,n=(e.owner,e.totalMessagesCount,e.myId,e.sendMessage),o=new Date(0),i=Object(r.useRef)(null);Object(r.useEffect)(function(){i.current.scrollIntoView({behaviour:"smooth"})},[t]);var u=Object(ke.a)(t).reverse();return a.a.createElement(Te,null,a.a.createElement("section",{className:"void"}),a.a.createElement(Le,null,a.a.createElement(Ue,null,u.map(function(e){var t=new Date(e.date),n=!be.a.isSameDay(o,t);return o=t,a.a.createElement(a.a.Fragment,{key:e.date},n&&a.a.createElement(Re,null,a.a.createElement(Se.a,null," ",be.b.toDayAndMonth(t)," ")),a.a.createElement(He,{key:e.date,myPost:e.myPost},a.a.createElement(Ge,null,Object(Se.b)(e.text),a.a.createElement("small",null,be.b.toTimeString(e.date)))))})),a.a.createElement("div",{ref:i})),a.a.createElement(qe,{onSubmit:function(e){n(e.text,1)}}))},ze=n(2),We=n.n(ze),Ye=n(6);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ve={currentDialogId:4754542,owner:{userId:2,photo:"https://s5o.ru/storage/simple/ru/edt/82/57/c6/1b/ruef2b9f9c218.jpg",fullName:"Eldar Sh"},messages:[{date:"2020-02-10T22:06:18.762Z",text:"Hi.",myPost:!0},{date:"2020-02-10T22:06:17.762Z",text:"Hello, my friend\n:)",myPost:!1},{date:"2020-02-01T22:06:17.762Z",text:"Hello, my friend111111111111111111111111111111111 eeee\r\n:)",myPost:!1}],totalMessagesCount:14},Ze="social-network/dialogs/SET_DIALOGS",Xe="social-network/dialogs/ADD_NEW_MESSAGE",$e=Object(c.d)(u.f,Object(s.b)(function(e){return{messages:e.dialog.messages,owner:e.dialog.owner,totalMessagesCount:e.dialog.totalMessagesCount,isAuth:e.auth.isAuth,myId:e.auth.myId}},{AddNewMessageRequest:function(e,t){return function(){var t=Object(Ye.a)(We.a.mark(function t(n){var r;return We.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={myPost:!0,text:e,date:(new Date).toISOString()},t.next=3,new Promise(function(e){return setTimeout(e,1e3)});case 3:n({type:Xe,message:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}))(function(e){var t=e.match,n=e.myId,o=Object(q.a)(e,["match","myId"]),i=t.params.userId&&"s"!==t.params.userId?t.params.userId:n;return Object(r.useEffect)(function(){},[t.params.userId,parseInt(i)]),a.a.createElement(H.a,{text:"dialog with id"+i},a.a.createElement(Qe,{myId:o.myId,messages:o.messages,owner:o.owner,sendMessage:o.AddNewMessageRequest}))}),et=a.a.lazy(function(){return n.e(3).then(n.bind(null,336))}),tt=a.a.lazy(function(){return n.e(6).then(n.bind(null,337))}),nt=a.a.lazy(function(){return n.e(5).then(n.bind(null,334))}),rt=a.a.lazy(function(){return n.e(4).then(n.bind(null,335))}),at=Object(c.d)(u.f,Object(s.b)(function(e){return{isInitialized:e.app.initialize,isAuth:e.auth.isAuth,myId:e.auth.myId}},{initApp:function(){return function(e){e(Object(d.b)()).then(function(){e({type:g})}).catch(function(){return alert("Sever is not available now :(")})}}}))(function(e){var t=e.isInitialized,n=e.initApp,o=e.isAuth,i=e.myId;return Object(r.useEffect)(function(){return n()},[t]),t?a.a.createElement("div",{className:"main"},a.a.createElement("header",{className:"pageHeader"},a.a.createElement(L,null)),a.a.createElement("div",{className:"sideBar"},a.a.createElement(N,null)),a.a.createElement("div",{className:"pageBody"},a.a.createElement(u.b,{exact:!0,path:"/",render:function(){return a.a.createElement(oe,{conditionU:o,path:"/id"+i})}}),a.a.createElement(u.b,{exact:!0,path:"/id:userId?",component:function(){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(U.a,null)},a.a.createElement(et,null))}}),a.a.createElement(u.b,{exact:!0,path:"/edit",component:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(U.a,null)},a.a.createElement(et,{isEdit:!0})))}}),a.a.createElement(u.b,{path:"/friends:userId?/:pageNo?",render:function(e){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(U.a,null)},a.a.createElement(rt,null))}}),a.a.createElement(u.b,{path:"/users/:pageNo?",render:function(e){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(U.a,null)},a.a.createElement(nt,null))}}),a.a.createElement(u.b,{path:"/photos:userId?",component:Ee}),a.a.createElement(u.b,{path:"/notes",component:G}),a.a.createElement(u.b,{path:"/wall:userId?",component:xe}),a.a.createElement(u.b,{path:"/dialog:userId?",component:$e}),a.a.createElement(u.b,{path:"/login",component:ae}),a.a.createElement(u.b,{path:"/registration",render:function(){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(U.a,null)},a.a.createElement(tt,null))}})),a.a.createElement(ye,null)):a.a.createElement(U.a,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=n(169),it=n(158),ut={alerts:[{name:"Friends",count:0},{name:"Photos",count:0},{name:"Wall",count:0},{name:"Dialogs",count:10},{name:"Notes",count:0},{name:"Groups",count:0}]},ct=Object(c.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return m({},e,{initialize:!0});default:return e}},profile:ue.c,auth:d.a,form:it.a,requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;return t.type,e},users:Q.g,photos:ie.c,wall:Pe.c,dialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Je({},e,{messages:Object(ke.a)(t.messages),totalMessagesCount:t.count,currentDialogId:t.userId});case Xe:var n=Je({},e,{messages:[t.message].concat(Object(ke.a)(e.messages)),totalMessagesCount:e.totalMessagesCount+1});return n;default:return e}}}),st=Object(c.e)(ct,Object(c.a)(ot.a));i.a.render(a.a.createElement(h.a,null,a.a.createElement(s.a,{store:st},a.a.createElement(at,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},36:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(87),i=n.n(o);t.a=function(e){return a.a.createElement("div",{className:i.a.profileBorder},a.a.createElement("div",{className:i.a.profileHeader},e.text),a.a.createElement("div",{className:i.a.profileBorder__subBorder},e.children))}},37:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(16);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var o={findOneAndUpdate:function(e,t,n,o){return e.map(function(e){return e[t]==n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},o):e})},sortBy:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?-1:1;return e.sort(function(e,n){return e[t]<n[t]?-1*r:e[t]>n[t]?1*r:0})},getSomeRandom:function(e,t){if(e.length<=t)return e;for(var n=[],r=[],a=0;a<t;a++){for(var o=Math.floor(Math.random()*e.length);n.includes(o);)o=(o+1)%e.length;n.push(o),r.push(e[o])}return r}}},40:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"f",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return E}),n.d(t,"e",function(){return O});var r=n(2),a=n.n(r),o=n(6),i=n(16),u=n(7),c=n(19);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={myId:null,email:null,login:null,isAuth:!1,isNewUserRegistered:!1,previousLocation:null},f="social-network/auth/SET_AUTH",m="social-network/auth/DELETE_AUTH",p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return l({},e,{},t.data,{isAuth:!0});case m:return l({},d);case"social-network/auth/NEW_USER_REGISTER_SUCCESS":return l({},e,{isNewUserRegistered:!0});case"social-network/auth/SET_PREVIOUS_LOCATION":return l({},e,{previousLocation:t.path});default:return e}},g=function(e){return{type:"social-network/auth/SET_PREVIOUS_LOCATION",path:e}},h=function(e,t,n){return{type:f,data:{myId:e,email:t,login:n}}},b=function(){return{type:m}},_=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o,i,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.me();case 2:0===(n=e.sent).data.resultCode?(r=n.data.data,o=r.id,i=r.email,c=r.login,t(h(o,i,c))):t(b());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.logout();case 2:0===e.sent.data.resultCode&&t(b());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},E=function(e,t,n){return function(){var r=Object(o.a)(a.a.mark(function r(o){var i,s;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.login(e,t,n);case 2:0===(i=r.sent).data.resultCode?o(_()):(s=i.data.messages&&i.data.messages.length>0?i.data.messages[0]:"login error",o(Object(c.a)("login",{_error:s})));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},O=function(e,t,n,r){return function(){var i=Object(o.a)(a.a.mark(function o(i){var s;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.register(e,t,n,r);case 2:0===(s=a.sent).data.resultCode?i({type:"social-network/auth/NEW_USER_REGISTER_SUCCESS"}):i(Object(c.a)("register",{_error:s.data.messages[0]||"Registration error"}));case 4:case"end":return a.stop()}},o)}));return function(e){return i.apply(this,arguments)}}()}},43:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r={toNumbers:function(e){return new Date(e).toLocaleDateString("en-Us")},toStrings:function(e){return new Date(e).toLocaleString("en-Us",{year:"numeric",month:"long",day:"numeric",hour12:!1,hour:"numeric",minute:"numeric"})},toTimeString:function(e){return new Date(e).toLocaleTimeString().slice(0,-3)},toDayAndMonth:function(e){return e.toLocaleString("en-Us",{month:"long",day:"numeric"})}},a={isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&(e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}}},44:function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return O}),n.d(t,"d",function(){return y}),n.d(t,"a",function(){return A}),n.d(t,"e",function(){return P});var r=n(2),a=n.n(r),o=n(6),i=n(23),u=n(16),c=n(7),s=n(19),l=n(37);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m={items:[],totalCount:0,currentUploading:null,isProfilePhotoSet:!1},p="social-network/user-photos/SET_PHOTOS",g="social-network/user-photos/SET_IMAGE_ORDER",h="social-network/user-photos/TOGGLE_PHOTO_SET",b="social-network/user-photos/ADD_DESCRIPTION",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return f({},e,{items:Object(i.a)(t.photos),totalCount:t.count});case g:return f({},e,{currentUploading:t.order});case h:return f({},e,{isProfilePhotoSet:t.togglePhotoSet});case b:return f({},e,{items:l.a.findOneAndUpdate(e.items,"id",t.id,{description:t.description})});default:return e}},v=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.getPhotos(e);case 2:(r=t.sent).data.items&&n((a=r.data.items,o=r.data.totalCount,{type:p,photos:a,count:o}));case 4:case"end":return t.stop()}var a,o},t)}));return function(e){return t.apply(this,arguments)}}()},E=function(e){return{type:g,order:e}},O=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o,i,u,l,d,f,m,p,g;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=1,i=!0,u=!1,l=void 0,t.prev=4,d=e[Symbol.iterator]();case 6:if(i=(f=d.next()).done){t.next=16;break}return m=f.value,n(E(o++)),t.next=11,c.b.savePhoto(m);case 11:0===(p=t.sent).data.resultCode||n(Object(s.a)("upload_image",{_error:p.data.messages[0]||"Image loading error"}));case 13:i=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),u=!0,l=t.t0;case 22:t.prev=22,t.prev=23,i||null==d.return||d.return();case 25:if(t.prev=25,!u){t.next=28;break}throw l;case 28:return t.finish(25);case 29:return t.finish(22);case 30:n(E(null)),g=r().auth.myId,n(v(g));case 33:case"end":return t.stop()}},t,null,[[4,18,22,30],[23,,25,29]])}));return function(e,n){return t.apply(this,arguments)}}()},w=function(e){return{type:h,togglePhotoSet:e}},y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w(!0)),t.next=3,c.b.setAsProfilePhoto(e);case 3:0===t.sent.data.resultCode&&n(w(!1));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w(!0)),t.next=3,c.b.deletePhoto(e);case 3:0===t.sent.data.resultCode&&(n(v("")),n(w(!1)));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return{type:b,id:e,description:t}},P=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.b.updateImage(e,t);case 2:0===n.sent.data.resultCode&&r(j(e,t));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},48:function(e,t,n){"use strict";var r=n(89),a=n.n(r),o=n(0),i=n.n(o);t.a=function(e){return e.isNonButton?i.a.createElement("label",{className:a.a.follow__button},i.a.createElement("span",null,e.children)):i.a.createElement("button",Object.assign({className:a.a.follow__button},e,{onClick:e.onClick})," ",e.children," ")}},49:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(167),i=n.n(o);t.a=function(){return a.a.createElement("div",null,a.a.createElement("img",{src:i.a,alt:"loading in process..."}))}},50:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var r=n(2),a=n.n(r),o=n(6),i="social-network/users-following/SET_TOGGLE_FOLLOWING",u=function(e,t){return{type:i,isToggling:e,id:t}},c=function(){var e=Object(o.a)(a.a.mark(function e(t,n,r,o,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(u(!0,t)),e.next=3,n(t);case 3:0===e.sent.data.resultCode&&(i(o(t,r)),i(u(!1,t)));case 5:case"end":return e.stop()}},e)}));return function(t,n,r,a,o){return e.apply(this,arguments)}}()},51:function(e,t,n){e.exports={imagesPanel:"Photos_imagesPanel__1JHMY",image__preview:"Photos_image__preview__2-6Wp",imagesControl:"Photos_imagesControl__1I9vo",imagesControl__navigation:"Photos_imagesControl__navigation__3Yio-",imagesControl__upload:"Photos_imagesControl__upload__23Wy3"}},52:function(e,t,n){e.exports={sideBar__nav:"SideBar_sideBar__nav__4vp-t",sideBar__profileLi:"SideBar_sideBar__profileLi__1qVVQ",sideBar__nav__profile:"SideBar_sideBar__nav__profile__o5Ygo",sideBar__nav__profile_edit:"SideBar_sideBar__nav__profile_edit__34URJ",sideBar__navLi:"SideBar_sideBar__navLi__11uoV"}},57:function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _});var r=n(2),a=n.n(r),o=n(6),i=n(23),u=n(16),c=n(7);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={userId:2,posts:[{postId:1,date:"2020-02-10T22:06:17.762Z",text:"Hello, my friend\n:)",owner:{userId:2,photo:"https://s5o.ru/storage/simple/ru/edt/82/57/c6/1b/ruef2b9f9c218.jpg",fullName:"Eldar Sh"}}],totalCount:14,isFetching:!1},f="social-network/wall/TOGGLE_FETCHING",m="social-network/wall/SET_POSTS",p="social-network/wall/ADD_NEW_POST",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return l({},e,{isFetching:t.isFetching});case m:return l({},e,{posts:Object(i.a)(t.posts),totalCount:t.count,userId:t.userId});case p:return l({},e,{posts:[t.post].concat(Object(i.a)(e.posts)),totalCount:e.totalCount+1});default:return e}},h=function(e){return{type:f,isFetching:e}},b=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.e.addPost(e,t);case 2:0===(o=n.sent).data.resultCode&&r((a=o.data.post,{type:p,post:a}));case 4:case"end":return n.stop()}var a},n)}));return function(e){return n.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(h(!0)),t.next=3,c.e.getWall(e);case 3:0===(r=t.sent).data.resultCode&&n((a=r.data.data.posts,o=r.data.data.totalCount,i=r.data.data.userId,{type:m,posts:a,count:o,userId:i})),n(h(!1));case 6:case"end":return t.stop()}var a,o,i},t)}));return function(e){return t.apply(this,arguments)}}()}},58:function(e,t,n){e.exports={navLink:"Link_navLink__dYPCG",navLink__disabled:"Link_navLink__disabled__qvAc5"}},59:function(e,t,n){"use strict";var r=n(29),a=n(0),o=n.n(a),i=n(17),u=n.n(i);t.a=function(e){var t=e.meta,n=e.input,a=e.label,i=e.multiline,c=Object(r.a)(e,["meta","input","label","multiline"]),s=t.touched&&t.error;return o.a.createElement("div",null,a&&o.a.createElement("div",{className:u.a.formLabel},a),i?o.a.createElement("textarea",Object.assign({},n,c)):o.a.createElement("input",Object.assign({},n,c)),s&&o.a.createElement("div",{className:u.a.formError},t.error))}},67:function(e,t,n){e.exports={badgeProfile__header:"BadgeHeader_badgeProfile__header__1K1kq",badgeProfile__header_open:"BadgeHeader_badgeProfile__header_open___GFCr",badgeProfile__header_roll:"BadgeHeader_badgeProfile__header_roll__3zMKS"}},68:function(e,t,n){"use strict";n.d(t,"g",function(){return v}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return y}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return P}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return C});var r=n(2),a=n.n(r),o=n(6),i=n(23),u=n(16),c=n(7),s=n(37),l=n(50);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m={users:[{id:0,name:"home",status:"i'm fattest",followed:!1,photos:{small:null,large:null}},{id:1,name:"street",status:"i'm smallest",followed:!0,photos:{small:null,large:null}},{id:2,name:"aubo rdadje",status:"i'm smallest",followed:!0,photos:{small:null,large:null}},{id:3,name:"Ofre nmd",status:"i'm smallest",followed:!0,photos:{small:null,large:null}}],totalCount:600,error:null,currentPage:1,pageSize:10,isFetching:!1,isToggling:[],friends:{profiles:[],totalCount:0}},p="social-network/users-search/TOGGLE_FETCHING",g="social-network/users-search/SET_USERS",h="social-network/users-search/SET_USERS_PAGE",b="social-network/users-search/CHANGE_FOLLOWING_STATUS",_="social-network/users-search/SET_FRIENDS",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return f({},e,{isFetching:t.isFetching});case g:return f({},e,{users:Object(i.a)(t.users),totalCount:t.count});case h:return f({},e,{currentPage:t.page});case l.a:return t.isToggling?f({},e,{isToggling:[t.id].concat(Object(i.a)(e.isToggling))}):f({},e,{isToggling:e.isToggling.filter(function(e){return e!==t.id})});case b:return f({},e,{users:s.a.findOneAndUpdate(e.users,"id",t.id,{followed:t.isFollow})});case _:return f({},e,{friends:{profiles:Object(i.a)(t.friends),totalCount:t.totalCount}});default:return e}},E=function(e){return{type:p,isFetching:e}},O=function(e,t){return{type:g,users:e,count:t}},w=function(e){return{type:h,page:e}},y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(E(!0)),t.next=3,c.d.getByPage(e);case 3:(r=t.sent).data.items&&(n(O(r.data.items,r.data.totalCount)),n(E(!1)));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return{type:b,id:e,isFollow:t}},j=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(l.b)(e,c.d.follow.bind(c.d),!0,A,n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(l.b)(e,c.d.unfollow.bind(c.d),!1,A,n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=Object(o.a)(a.a.mark(function e(t,n,r,o){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.getFriendsById(t,n);case 2:0===(i=e.sent).data.resultCode&&o(r(i.data.items,i.data.totalCount));case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),k=function(e,t){return{type:_,friends:e,totalCount:t}},S=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(E(!0)),n.next=3,x(e,t,O,r);case 3:r(E(!1));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:x(e,t,k,r);case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},7:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return l});var r=n(161),a=r.create({baseURL:"https://oo-server.herokuapp.com/api/",withCredentials:!0}),o=function(e,t){var n=new FormData;return n.append("image",t),a.put(e,n,{headers:{"Content-Type":"multipart/form-data"}})},i={getByPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.get("users?page="+e)},follow:function(e){return a.post("follow/"+e)},unfollow:function(e){return a.delete("follow/"+e)},getFriends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.get("friends?page="+e)},getFriendsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return a.get("friends?page=".concat(e,"&id= ").concat(t))}},u={getStatus:function(e){return a.get("profile/status/"+e)},setStatus:function(e){return a.put("profile/status/",{status:e})},getUserProfile:function(e){return a.get("profile/"+e)},setProfile:function(e){return a.put("profile/",e)},getFollowStatus:function(e){return a.get("follow/"+e)},savePhoto:function(e){return o("profile/photo/",e)}},c={me:function(){return a.get("auth/me")},logout:function(){return a.delete("auth/login")},login:function(e,t,n){return a.post("auth/login",{email:e,password:t,rememberMe:n})},register:function(e,t,n,r){return a.post("auth/register",{email:e,password:t,login:n,fullName:r})}},s={getPhotos:function(e){return a.get("/photos?id="+e)},savePhoto:function(e){return o("photo/",e)},setAsProfilePhoto:function(e){return a.put("photo/profile?id="+e)},deletePhoto:function(e){return a.delete("photo?id="+e)},updateImage:function(e,t){return a.post("photo/update",{id:e,description:t})}},l={getWall:function(e){return a.get("/wall?id="+e)},addPost:function(e,t){return a.post("/wall",{userId:e,text:t})}}},78:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o});var r=function(e){if(!(e&&e.length>0))return"Field is required"},a=function(e){return function(t){if(t&&t.length<e)return"field must consist more ".concat(e," symbols")}},o=function(e){return e.password===e.password2?void 0:{password2:"Passwords confirm is not valid"}}},80:function(e,t,n){"use strict";n.d(t,"c",function(){return v}),n.d(t,"a",function(){return j}),n.d(t,"d",function(){return P}),n.d(t,"b",function(){return x}),n.d(t,"h",function(){return k}),n.d(t,"g",function(){return C}),n.d(t,"e",function(){return I}),n.d(t,"f",function(){return N});var r=n(2),a=n.n(r),o=n(6),i=n(16),u=n(7),c=n(19),s=n(50);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={user:{},communities:["community of people who promised himself go to sleep as soon as back from work","====== PhYSiCaL fAcUlTy ArE bEsToFtHeBeStOfThEbEsTs!!!! =====","&#9733;&#9733;&#9733; all new Films of 2008. Watch online! &#9733;&#9733;&#9733;","only VIP"],statusText:"",profileUpdateFetching:!1,profileFetch:!0,isProfileFollow:!1},m="social-network/user-profile/SET_STATUS",p="social-network/user-profile/SET_PROFILE",g="social-network/user-profile/SET_PHOTO",h="social-network/user-profile/SET_FOLLOW_STATUS",b="social-network/user-profile/UPDATE_PROFILE_FETCHING",_="social-network/user-profile/GET_PROFILE_FETCH_TOGGLE",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return d({},e,{user:t.userProfile});case m:return d({},e,{statusText:t.statusText});case g:var n=d({},e,{user:d({},e.user,{photos:t.photos})});return n;case h:return d({},e,{isProfileFollow:t.isFollow});case b:return d({},e,{profileUpdateFetching:t.isFetching});case _:return d({},e,{profileFetch:t.isFetching});default:return e}},E=function(e){return{type:m,statusText:e}},O=function(e){return{type:b,isFetching:e}},w=function(e,t){return{type:h,isFollow:t}},y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getFollowStatus(e);case 2:(r=t.sent).data&&n(w(0,r.data.isFollow));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){return{type:_,isFetching:e}},j=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(A(!0)),t.next=3,u.c.getUserProfile(e);case 3:(o=t.sent).data&&((i=r().auth.myId)&&i!==e&&n(y(e)),n((a=o.data,{type:p,userProfile:a})),n(A(!1)));case 5:case"end":return t.stop()}var a},t)}));return function(e,n){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.setStatus(e);case 2:0===t.sent.data.resultCode&&n(E(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getStatus(e);case 2:r=t.sent,n(E(r.data));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o,i,s,l,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r().auth.myId,n(O(!0)),t.next=4,u.c.setProfile(e);case 4:0===(i=t.sent).data.resultCode?(n(j(o)),n(O(!1))):(s=i.data.messages&&i.data.messages.length>0?i.data.messages[0]:"update profile error",(l=S(s))?(d=JSON.parse('{"'.concat(l,'":"').concat(s,'"}')),n(Object(c.a)("updateProfile",{contacts:d}))):n(Object(c.a)("updateProfile",{_error:s})));case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},S=function(e){var t;if((t=e.indexOf("Contacts->"))>0){var n=e.slice(t+10);if((n=n.slice(0,n.indexOf(")"))).length>1)return n.toLowerCase()}return null},C=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.savePhoto(e);case 2:0===(r=t.sent).data.resultCode?n((a=r.data.photos,{type:g,photos:a})):n(Object(c.a)("upload_image",{_error:r.data.messages[0]||"Image loading error"}));case 4:case"end":return t.stop()}var a},t)}));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(s.b)(e,u.d.follow.bind(u.d),!0,w,n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(s.b)(e,u.d.unfollow.bind(u.d),!1,w,n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},85:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(0),o=n.n(a);function i(){var e=Object(r.a)(["\n    text-align: justify;\n    line-height: 1.7;\n    text-indent: 15px;\n    padding: 0 20px;\n"]);return i=function(){return e},e}var u=n(11).a.p(i());t.b=function(e){var t=e.count,n=3===t?"rd":"th";return o.a.createElement(o.a.Fragment,null,o.a.createElement(u,null,"Welcome to OOSocial - network for developers, designers and other people who love IT, searching for a job or searching for a workers. Registered users can share their profiles, follow another users and upload your photos. And yes, we will add the Wall soon!"),o.a.createElement(u,null,"Became a ",o.a.createElement("b",null,t+n)," user in OOSocial."))}},86:function(e,t,n){"use strict";var r=n(10),a=n(0),o=n.n(a),i=n(108),u=n(59),c=n(48),s=n(11);function l(){var e=Object(r.a)(["\n    display: grid;\n    justify-content: right;\n    padding-top : 3px;\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n    padding: 5px;    \n    textarea {\n        width: 99%;\n        resize: vertical;\n    }\n"]);return d=function(){return e},e}var f=s.a.form(d()),m=s.a.div(l());t.a=function(e){return o.a.createElement(f,{onSubmit:e.handleSubmit},o.a.createElement(i.a,{name:"text",component:u.a,multiline:!0}),o.a.createElement(m,null,o.a.createElement(c.a,null," Add post ")))}},87:function(e,t,n){e.exports={profileHeader:"ElementNameHeader_profileHeader__2z4fU",profileBorder:"ElementNameHeader_profileBorder__LZK2W",profileBorder__subBorder:"ElementNameHeader_profileBorder__subBorder__NTq6q"}},89:function(e,t,n){e.exports={follow__button:"Buttons_follow__button__3x7cz",follow__button_stretched:"Buttons_follow__button_stretched__2Qd4p"}}},[[196,1,2]]]);
//# sourceMappingURL=main.a26af859.chunk.js.map